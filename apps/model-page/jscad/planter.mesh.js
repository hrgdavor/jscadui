var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// index.planter.mesh.js
var index_planter_mesh_exports = {};
__export(index_planter_mesh_exports, {
  main: () => main
});
module.exports = __toCommonJS(index_planter_mesh_exports);
var import_modeling3 = __toESM(require("@jscad/modeling"), 1);

// utils/src/loop.js
var loop = (counts, callback) => {
  if (typeof counts === "number")
    counts = [counts];
  const counters = counts.map((x) => 0);
  const topLevel = counts.length - 1;
  const ret = [];
  const loopRec = (level) => {
    let counti = counts[level];
    let starti = 0;
    if (counti < 0) {
      starti = Math.ceil(counti / 2);
      counti *= -1;
      if (counti % 2 === 0)
        starti += 0.5;
    }
    let stopi = starti + counti;
    for (let i = starti; i < stopi; i += 1) {
      counters[level] = i;
      if (level === topLevel)
        ret.push(callback(...counters, ...counts));
      else {
        loopRec(level + 1);
      }
    }
  };
  loopRec(0);
  return ret;
};

// utils/src/bottomUtils.js
var import_modeling2 = __toESM(require("@jscad/modeling"), 1);

// utils/src/utils.js
var import_modeling = __toESM(require("@jscad/modeling"), 1);
var { rotate } = import_modeling.default.transforms;
function rotateD(angles, ...parts) {
  return rotate(angles.map(toRad), ...parts);
}
function toRad(d) {
  return d / 180 * Math.PI;
}

// utils/src/bottomUtils.js
var { cuboid, cylinderElliptic, polyhedron } = import_modeling2.default.primitives;
var { translate: translate2 } = import_modeling2.default.transforms;
function bottomCube(options) {
  let { wall = 0, topWall = 0, bottomWall = 0, open } = options;
  let walls = { T: topWall, B: bottomWall, N: wall, S: wall, E: wall, W: wall };
  if (options.walls)
    walls = { ...walls, ...options.walls };
  if (options.sizeIn) {
    let [x, y, z] = options.sizeIn;
    options.size = [x + walls.W + walls.E, y + walls.S + walls.N, z + walls.B + walls.T];
  }
  options.center = dirAlign(options.align || "T", options.size, [0, 0, options.bottom || 0]);
  let piece = cuboid(options);
  if (wall || options.walls) {
    options.size[0] -= walls.W + walls.E;
    options.size[1] -= walls.N + walls.S;
    options.size[2] -= walls.T + walls.B;
    options.center[0] += (walls.W - walls.E) / 2;
    options.center[1] += (walls.S - walls.N) / 2;
    options.center[2] += (walls.B - walls.T) / 2;
    piece = subtract(piece, cuboid(options));
  }
  if (options.holes)
    piece = subtract(piece, translate2(options.center, ...options.holes));
  return dirRotateMove(options, piece)[0];
}
function dirAlign(align = "T", size = [1, 1, 1], center2 = [0, 0, 0]) {
  if (!align)
    return;
  for (let i = 0; i < align.length; i++) {
    let dir = align[i];
    if (dir == "T")
      center2[2] += size[2] / 2;
    if (dir == "B")
      center2[2] -= size[2] / 2;
    if (dir == "S")
      center2[1] -= size[1] / 2;
    if (dir == "N")
      center2[1] += size[1] / 2;
    if (dir == "E")
      center2[0] += size[0] / 2;
    if (dir == "W")
      center2[0] -= size[0] / 2;
  }
  return center2;
}
function dirRotateMove(options, ...elems) {
  let dirs = options.dir || "";
  let rot = [0, 0, 0];
  for (let i = 0; i < dirs.length; i++) {
    let dir = dirs[i];
    if (dir == "B")
      rot = [180, 0, 0];
    if (dir == "S")
      rot = [90, 0, 0];
    if (dir == "N")
      rot = [-90, 0, 0];
    if (dir == "E")
      rot = [0, 90, 0];
    if (dir == "W")
      rot = [0, -90, 0];
    if (dir == "Y")
      rot[1] += 90;
    if (dir == "y")
      rot[1] -= 90;
    if (dir == "X")
      rot[0] += 90;
    if (dir == "x")
      rot[0] -= 90;
    if (dir == "Z")
      rot[2] += 90;
    if (dir == "z")
      rot[2] -= 90;
  }
  elems = [rotateD(rot, ...elems)];
  if (options.tx || options.ty || options.tz)
    elems = [translate2([options.tx || 0, options.ty || 0, options.tz || 0], ...elems)];
  return elems;
}

// index.planter.mesh.js
var { sphere, cube } = import_modeling3.default.primitives;
var { translate: translate3 } = import_modeling3.default.transforms;
var main = ({
  // @jscad-params
  rows = 1, // {type:'slider', live:1, min:1, max:20}
  cols = 1, // {type:'slider', live:1, min:1, max:20}
  h1 = 1, // {type:'slider', live:1, step:0.1, min:0.1, max:5}
  h2 = 3 // {type:'slider', live:1, step:0.1, min:0.1, max:10}
}) => {
  const cube1 = bottomCube({ size: [2, 2, h2], align: "TNE" });
  const cube2 = bottomCube({ size: [2, 8, h1], align: "TNE" });
  const cube3 = bottomCube({ size: [8, 2, h1], align: "TNE" });
  let out = [];
  out.push(...loop([rows + 1, cols + 1], (i, j) => translate3([i * 10, j * 10, 0], cube1)));
  out.push(...loop([rows + 1, cols], (i, j) => translate3([i * 10, j * 10 + 2, 0], cube2)));
  out.push(...loop([rows, cols + 1], (i, j) => translate3([i * 10 + 2, j * 10, 0], cube3)));
  out.push(...loop([rows, cols - 1], (i, j) => bottomCube({ size: [2, 8, 1], tx: i * 10, ty: j * 10 + 2, align: "TNE" })));
  out.push(...loop([rows - 1, cols], (i, j) => bottomCube({ size: [8, 2, 1], tx: i * 10 + 2, ty: j * 10, align: "TNE" })));
  return out;
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vaW5kZXgucGxhbnRlci5tZXNoLmpzIiwgIi4uL3V0aWxzL3NyYy9sb29wLmpzIiwgIi4uL3V0aWxzL3NyYy9ib3R0b21VdGlscy5qcyIsICIuLi91dGlscy9zcmMvdXRpbHMuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIlxyXG4vLyBkaXJ0eWZpeCwgd29ya2VyIGRvZXMgbm90IHByb3Blcmx5IHJlY29nbml6ZSBleHBvcnQgc3RhdGVtZW50c1xyXG4vLyBpbXBvcnQgKiBmcm9tICcuL2luZGV4LnRlc3QuanMnXHJcblxyXG4vLyBleHBvcnQgKiBmcm9tICcuL2luZGV4LnRlc3QuanMnXHJcblxyXG5pbXBvcnQganNjYWQgZnJvbSAnQGpzY2FkL21vZGVsaW5nJ1xyXG4vLyBjb25zdCBqc2NhZCA9IHJlcXVpcmUoXCJAanNjYWQvbW9kZWxpbmdcIik7XHJcbmltcG9ydCB7IGJvdHRvbUN1YmUsIGJvdHRvbUN5bGluZGVyLCBqc2NhZFByZXZpZXcsIGxvb3AsIHNwcmVhZCwgc2xhbnRDdWJlIH0gZnJvbSAndXRpbHMnXHJcbmNvbnN0IHsgc3BoZXJlLCBjdWJlIH0gPSBqc2NhZC5wcmltaXRpdmVzXHJcbmNvbnN0IHsgdHJhbnNsYXRlIH0gPSBqc2NhZC50cmFuc2Zvcm1zXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IG1haW4gPSAoey8vIEBqc2NhZC1wYXJhbXNcclxuICByb3dzID0gMSwvLyB7dHlwZTonc2xpZGVyJywgbGl2ZToxLCBtaW46MSwgbWF4OjIwfVxyXG4gIGNvbHMgPSAxLC8vIHt0eXBlOidzbGlkZXInLCBsaXZlOjEsIG1pbjoxLCBtYXg6MjB9XHJcbiAgaDEgPSAxLC8vIHt0eXBlOidzbGlkZXInLCBsaXZlOjEsIHN0ZXA6MC4xLCBtaW46MC4xLCBtYXg6NX1cclxuICBoMiA9IDMsLy8ge3R5cGU6J3NsaWRlcicsIGxpdmU6MSwgc3RlcDowLjEsIG1pbjowLjEsIG1heDoxMH1cclxufSk9PntcclxuICBjb25zdCBjdWJlMSA9IGJvdHRvbUN1YmUoe3NpemU6WzIsMixoMl0sIGFsaWduOidUTkUnfSlcclxuICBjb25zdCBjdWJlMiA9IGJvdHRvbUN1YmUoe3NpemU6WzIsOCxoMV0sIGFsaWduOidUTkUnfSlcclxuICBjb25zdCBjdWJlMyA9IGJvdHRvbUN1YmUoe3NpemU6WzgsMixoMV0sIGFsaWduOidUTkUnfSlcclxuICBcclxuICBsZXQgb3V0ID0gW11cclxuICBvdXQucHVzaCguLi5sb29wKFtyb3dzKzEsY29scysxXSwoaSxqKT0+dHJhbnNsYXRlKFtpKjEwLGoqMTAsMF0sY3ViZTEpKSlcclxuICBvdXQucHVzaCguLi5sb29wKFtyb3dzKzEsY29sc10sKGksaik9PnRyYW5zbGF0ZShbaSoxMCxqKjEwKzIsMF0sY3ViZTIpKSlcclxuICBvdXQucHVzaCguLi5sb29wKFtyb3dzLGNvbHMrMV0sKGksaik9PnRyYW5zbGF0ZShbaSoxMCsyLGoqMTAsMF0sY3ViZTMpKSlcclxuICBvdXQucHVzaCguLi5sb29wKFtyb3dzLGNvbHMtMV0sKGksaik9PmJvdHRvbUN1YmUoe3NpemU6WzIsOCwxXSwgdHg6aSoxMCwgdHk6aioxMCsyLCBhbGlnbjonVE5FJ30pKSlcclxuICBvdXQucHVzaCguLi5sb29wKFtyb3dzLTEsY29sc10sKGksaik9PmJvdHRvbUN1YmUoe3NpemU6WzgsMiwxXSwgdHg6aSoxMCsyLCB0eTpqKjEwLCBhbGlnbjonVE5FJ30pKSlcclxuXHJcbiAgcmV0dXJuIG91dFxyXG5cclxufVxyXG4iLCAiZXhwb3J0IGNvbnN0IGxvb3AgPSAoY291bnRzLCBjYWxsYmFjayk9PntcclxuICBpZih0eXBlb2YgY291bnRzID09PSAnbnVtYmVyJykgY291bnRzID0gW2NvdW50c11cclxuICBjb25zdCBjb3VudGVycyA9IGNvdW50cy5tYXAoeD0+MClcclxuICBjb25zdCB0b3BMZXZlbCA9IGNvdW50cy5sZW5ndGggLSAxXHJcbiAgY29uc3QgcmV0ID0gW11cclxuXHJcbiAgY29uc3QgbG9vcFJlYyA9IChsZXZlbCk9PntcclxuXHJcbiAgICBsZXQgY291bnRpID0gY291bnRzW2xldmVsXVxyXG4gICAgbGV0IHN0YXJ0aSA9IDAgXHJcbiAgICBpZihjb3VudGkgPCAwKXtcclxuICAgICAgc3RhcnRpID0gTWF0aC5jZWlsKGNvdW50aS8yKVxyXG4gICAgICBjb3VudGkgKj0gLTFcclxuICAgICAgaWYoY291bnRpICUgMiA9PT0gMCkgc3RhcnRpICs9IDAuNVxyXG4gICAgfVxyXG4gICAgbGV0IHN0b3BpID0gc3RhcnRpICsgY291bnRpXHJcblxyXG4gICAgZm9yKGxldCBpPXN0YXJ0aTsgaTxzdG9waTsgaSs9MSl7XHJcbiAgICAgIGNvdW50ZXJzW2xldmVsXSA9IGlcclxuICAgICAgaWYobGV2ZWwgPT09IHRvcExldmVsKVxyXG4gICAgICAgIHJldC5wdXNoKGNhbGxiYWNrKC4uLmNvdW50ZXJzLC4uLmNvdW50cykpXHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgbG9vcFJlYyhsZXZlbCsxKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsb29wUmVjKDApXHJcblxyXG4gIHJldHVybiByZXRcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNwcmVhZCA9IChjb3VudHMsIGNhbGxiYWNrKT0+e1xyXG4gIGlmKHR5cGVvZiBjb3VudHMgPT09ICdudW1iZXInKSBjb3VudHMgPSBbY291bnRzXVxyXG4gIGNvbnN0IGNvdW50ZXJzID0gY291bnRzLm1hcCh4PT4wKVxyXG4gIGNvbnN0IHNwcmVhZHMgPSBjb3VudHMubWFwKHg9PjApXHJcbiAgY29uc3QgdG9wTGV2ZWwgPSBjb3VudHMubGVuZ3RoIC0gMVxyXG4gIGNvbnN0IHJldCA9IFtdXHJcblxyXG4gIGNvbnN0IGxvb3BSZWMgPSAobGV2ZWwpPT57XHJcblxyXG4gICAgbGV0IGNvdW50aSA9IGNvdW50c1tsZXZlbF1cclxuICAgIGxldCBzdGFydGkgPSAwIFxyXG4gICAgaWYoY291bnRpIDwgMCl7XHJcbiAgICAgIHN0YXJ0aSA9IE1hdGguY2VpbChjb3VudGkvMilcclxuICAgICAgY291bnRpICo9IC0xXHJcbiAgICAgIGlmKGNvdW50aSAlIDIgPT09IDApIHN0YXJ0aSArPSAwLjVcclxuICAgIH1cclxuICAgIGxldCBzdG9waSA9IHN0YXJ0aSArIGNvdW50aVxyXG5cclxuICAgIGZvcihsZXQgaT1zdGFydGk7IGk8c3RvcGk7IGkrPTEpe1xyXG4gICAgICBjb3VudGVyc1tsZXZlbF0gPSBpXHJcbiAgICAgIHNwcmVhZHNbbGV2ZWxdID0gaSA/IGkgLyBjb3VudHNbbGV2ZWxdIDogaVxyXG4gICAgICBpZihsZXZlbCA9PT0gdG9wTGV2ZWwpXHJcbiAgICAgICAgcmV0LnB1c2goY2FsbGJhY2soLi4uc3ByZWFkcywuLi5jb3VudGVycykpXHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgbG9vcFJlYyhsZXZlbCsxKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsb29wUmVjKDApXHJcblxyXG4gIHJldHVybiByZXRcclxufVxyXG4iLCAiaW1wb3J0IGpzY2FkIGZyb20gXCJAanNjYWQvbW9kZWxpbmdcIjtcclxuaW1wb3J0IHsgcm90YXRlRCwgdG9SYWQgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xyXG5jb25zdCB7Y3Vib2lkLGN5bGluZGVyRWxsaXB0aWMsIHBvbHloZWRyb24gfSA9IGpzY2FkLnByaW1pdGl2ZXNcclxuY29uc3Qge3RyYW5zbGF0ZSB9ID0ganNjYWQudHJhbnNmb3Jtc1xyXG5cclxuY29uc3QgX3JNYWduZXQgPSAyLjE7XHJcbmNvbnN0IF9oTWFnbmV0ID0gMi45O1xyXG5cclxuY29uc3QgX201X3NjcmV3ID0gMi42O1xyXG5jb25zdCBfbTVfbnV0ID0gNC42O1xyXG5jb25zdCBfbTVfbnV0X2ggPSAzLjk7XHJcblxyXG5mdW5jdGlvbiByZWR1Y2VXaWR0aChyLCByZWR1Y2Upe1xyXG4gIGxldCByZXQgPSBbLi4ucl1cclxuICByZXRbMF0gPSByWzBdIC0gcmVkdWNlXHJcbiAgcmV0WzFdID0gclsxXSAtIHJlZHVjZVxyXG4gIHJldHVybiByZXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VDeWxpbmRlclNsaWNlKHNsaWNlKXtcclxuICBzd2l0Y2goc2xpY2UudG9VcHBlckNhc2UoKSl7XHJcbiAgY2FzZSAnTic6IHJldHVybiBbMCxNYXRoLlBJXVxyXG4gIGNhc2UgJ1MnOiByZXR1cm4gW01hdGguUEksIE1hdGguUEkqMl1cclxuICBjYXNlICdXJzogcmV0dXJuIFtNYXRoLlBJKjAuNSwgTWF0aC5QSSoxLjVdXHJcbiAgY2FzZSAnRSc6IHJldHVybiBbTWF0aC5QSSoxLjUsIE1hdGguUEkqMi41XVxyXG4gIGNhc2UgJ05FJzogXHJcbiAgY2FzZSAnRU4nOiByZXR1cm4gWzAsIE1hdGguUEkqMC41XVxyXG4gIGNhc2UgJ05XJzogXHJcbiAgY2FzZSAnV04nOiByZXR1cm4gW01hdGguUEkqMC41LCBNYXRoLlBJXVxyXG4gIGNhc2UgJ1NXJzogXHJcbiAgY2FzZSAnV1MnOiByZXR1cm4gW01hdGguUEksIE1hdGguUEkqMS41XVxyXG4gIGNhc2UgJ1NFJzogXHJcbiAgY2FzZSAnRVMnOiByZXR1cm4gW01hdGguUEkqMS41LCBNYXRoLlBJKjJdXHJcblxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJvdHRvbUN1YmUob3B0aW9ucyl7XHJcbiAgbGV0IHt3YWxsID0gMCwgdG9wV2FsbCA9IDAsIGJvdHRvbVdhbGwgPSAwLCBvcGVufSA9IG9wdGlvbnNcclxuICBsZXQgd2FsbHMgPSB7VDp0b3BXYWxsLCBCOmJvdHRvbVdhbGwsIE46d2FsbCwgUzp3YWxsLCBFOndhbGwsIFc6d2FsbH1cclxuICBpZihvcHRpb25zLndhbGxzKSB3YWxscyA9IHsuLi53YWxscywgLi4ub3B0aW9ucy53YWxsc31cclxuICBpZihvcHRpb25zLnNpemVJbil7XHJcbiAgICBsZXQgW3gseSx6XSA9IG9wdGlvbnMuc2l6ZUluO1xyXG4gICAgb3B0aW9ucy5zaXplID0gWyB4ICsgd2FsbHMuVyArIHdhbGxzLkUsIHkgKyB3YWxscy5TICsgd2FsbHMuTiwgeiArIHdhbGxzLkIgKyB3YWxscy5UIF1cclxuICB9XHJcbiAgb3B0aW9ucy5jZW50ZXIgPSBkaXJBbGlnbihvcHRpb25zLmFsaWduIHx8ICdUJywgb3B0aW9ucy5zaXplLCBbMCwwLG9wdGlvbnMuYm90dG9tIHx8IDBdKVxyXG4gIGxldCBwaWVjZSA9IGN1Ym9pZChvcHRpb25zKVxyXG4gIGlmKHdhbGwgfHwgb3B0aW9ucy53YWxscyl7XHJcbiAgICBvcHRpb25zLnNpemVbMF0gLT0gd2FsbHMuVyArIHdhbGxzLkVcclxuICAgIG9wdGlvbnMuc2l6ZVsxXSAtPSB3YWxscy5OICsgd2FsbHMuU1xyXG4gICAgb3B0aW9ucy5zaXplWzJdIC09IHdhbGxzLlQgKyB3YWxscy5CXHJcbiAgICBvcHRpb25zLmNlbnRlclswXSArPSAod2FsbHMuVyAtIHdhbGxzLkUpIC8gMlxyXG4gICAgb3B0aW9ucy5jZW50ZXJbMV0gKz0gKHdhbGxzLlMgLSB3YWxscy5OKSAvIDJcclxuICAgIG9wdGlvbnMuY2VudGVyWzJdICs9ICh3YWxscy5CIC0gd2FsbHMuVCkgLyAyXHJcbiAgICBwaWVjZSA9IHN1YnRyYWN0KHBpZWNlLCBjdWJvaWQob3B0aW9ucykpXHJcbiAgfVxyXG4gIGlmKG9wdGlvbnMuaG9sZXMpIHBpZWNlID0gc3VidHJhY3QocGllY2UsIHRyYW5zbGF0ZShvcHRpb25zLmNlbnRlciwuLi5vcHRpb25zLmhvbGVzKSlcclxuICByZXR1cm4gZGlyUm90YXRlTW92ZShvcHRpb25zLCBwaWVjZSlbMF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGN5bGluZGVyU2xpY2Uob3B0aW9ucyl7XHJcbiAgbGV0IHtyYWRpdXMsIGhlaWdodCwgd2FsbH0gPSBvcHRpb25zXHJcbiAgbGV0IHtzdGFydFJhZGl1cyA9IHJhZGl1cywgc3RhcnRXYWxsID0gd2FsbCwgc3RhcnRBbmdsZT0wLCBlbmRBbmdsZT1NYXRoLlBJLzIsIHNsYW50PTB9ID0gb3B0aW9uc1xyXG4gIGxldCB7ZW5kUmFkaXVzID0gc3RhcnRSYWRpdXMsIGVuZFdhbGwgPSBzdGFydFdhbGx9ID0gb3B0aW9uc1xyXG4gIGlmKG9wdGlvbnMuc2xpY2Upe1xyXG4gICAgc3RhcnRBbmdsZSA9IG9wdGlvbnMuc2xpY2VbMF1cclxuICAgIGVuZEFuZ2xlID0gb3B0aW9ucy5zbGljZVsxXVxyXG4gIH1cclxuICBpZihvcHRpb25zLnNsaWNlRCl7XHJcbiAgICBzdGFydEFuZ2xlID0gdG9SYWQob3B0aW9ucy5zbGljZURbMF0pXHJcbiAgICBlbmRBbmdsZSA9IHRvUmFkKG9wdGlvbnMuc2xpY2VEWzFdKVxyXG4gIH1cclxuICBpZihvcHRpb25zLnNsYW50RCkgc2xhbnQgPSB0b1JhZChvcHRpb25zLnNsYW50RClcclxuXHJcbiAgZnVuY3Rpb24gbWFrZVBvaW50cyhtb2RpZmllciwgaGVpZ2h0KXtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIFsuLi5yUG9pbnQoc3RhcnRSYWRpdXMgLSBzdGFydFdhbGwsIHN0YXJ0QW5nbGUrbW9kaWZpZXIpLCBoZWlnaHRdLFxyXG4gICAgICBbLi4uclBvaW50KHN0YXJ0UmFkaXVzLCBzdGFydEFuZ2xlK21vZGlmaWVyKSwgaGVpZ2h0XSxcclxuICAgICAgWy4uLnJQb2ludChlbmRSYWRpdXMsIGVuZEFuZ2xlLW1vZGlmaWVyKSwgaGVpZ2h0XSxcclxuICAgICAgWy4uLnJQb2ludChzdGFydFJhZGl1cyAtIHN0YXJ0V2FsbCwgZW5kQW5nbGUtbW9kaWZpZXIpLCBoZWlnaHRdLFxyXG4gICAgXVxyXG4gIH1cclxuXHJcbiAgbGV0IHBvaW50cyA9IFtcclxuICAgIC4uLm1ha2VQb2ludHMoc2xhbnQsMCksXHJcbiAgICAuLi5tYWtlUG9pbnRzKC1zbGFudCxoZWlnaHQpLFxyXG4gIF1cclxuICByZXR1cm4gW1xyXG4gICAgY3Vib2lkRnJvbVBvaW50cyhwb2ludHMpLFxyXG4gICAvLyAuLi5kYXRhLnBvaW50cy5tYXAocD0+dHJhbnNsYXRlKHAsc3BoZXJlKCkpKSxcclxuICBdXHJcbn1cclxuLyoqIGNyZWF0ZSBjdWJvaWQgZnJvbSB0d28gbGF5ZXJzIG9mIHBvaW50cyB0aGF0IGFyZSBjb3VudGVyIGNsb2Nrd2lzZVxyXG5sYXllcjEgICBsYXllcjJcclxuMi0tMSAgICAgNi0tNVxyXG58ICB8ICAgICB8ICB8XHJcbjMtLTAgICAgIDctLTRcclxuXHJcbiAgNi0tLTVcclxuIC98ICAvfFxyXG4yLXwtMSB8XHJcbnwgfCB8IHxcclxufCA3LS0tNFxyXG58LyAgfC9cclxuMy0tLTBcclxuXHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBjdWJvaWRGcm9tUG9pbnRzKHBvaW50cyl7XHJcbiAgbGV0IGRhdGEgPSB7XHJcbiAgICBwb2ludHMsXHJcbiAgICBmYWNlczpbXHJcbiAgICAgIFszLDIsMSwwXSwvLyBib3R0b21cclxuICAgICAgWzQsNSw2LDddLC8vIHRvcFxyXG4gICAgICBbMywwLDQsN10sLy8gY2xvc2UvZnJvbnQvU1xyXG4gICAgICBbNiw1LDEsMl0sLy8gZmFyL2JhY2svTlxyXG4gICAgICBbMCwxLDUsNF0sIC8vIGxlZnQvRVxyXG4gICAgICBbNyw2LDIsM10sIC8vIHJpZ2h0L1dcclxuICAgIF1cclxuICB9XHJcbiAgdmFyIHBpZWNlID0gcG9seWhlZHJvbihkYXRhKVxyXG4gIHJldHVybiBwaWVjZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3Vib2lkRnJvbVBvaW50c1oocG9pbnRzMSx6MSwgcG9pbnRzMix6Mil7XHJcbiAgaWYoIXBvaW50czIpIHBvaW50czIgPSBwb2ludHMxXHJcbiAgcmV0dXJuIGN1Ym9pZEZyb21Qb2ludHMoW1xyXG4gICAgLi4ucG9pbnRzMS5tYXAocD0+W3BbMF0scFsxXSx6MV0pLFxyXG4gICAgLi4ucG9pbnRzMi5tYXAocD0+W3BbMF0scFsxXSx6Ml0pLFxyXG4gIF0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2xhbnRDdWJlKG9wdGlvbnM9e30pe1xyXG4gIGxldCBbdz0xLGQ9MSxoPTFdID0gb3B0aW9ucy5zaXplIHx8IFtdXHJcbiAgbGV0IHtOPTAsUz0wLEU9MCxXPTB9ID0gb3B0aW9ucy5zbGFudCB8fCB7fVxyXG5cclxuICBsZXQgdzIgPSB3LzJcclxuICBsZXQgZDIgPSBkLzJcclxuICBsZXQgaDIgPSBoLzJcclxuXHJcbiAgbGV0IGNlbnRlciA9IGRpckFsaWduKG9wdGlvbnMuYWxpZ24gfHwgJ1QnLCBbdyxkLGhdKVxyXG4gIGxldCBwb2ludHMgPSBbXHJcbiAgICBbIHcyK2NlbnRlclswXSwgLWQyK2NlbnRlclsxXSwgLWgyK2NlbnRlclsyXV0sIC8vIFNFXHJcbiAgICBbIHcyK2NlbnRlclswXSwgIGQyK2NlbnRlclsxXSwgLWgyK2NlbnRlclsyXV0sIC8vIE5FXHJcbiAgICBbLXcyK2NlbnRlclswXSwgIGQyK2NlbnRlclsxXSwgLWgyK2NlbnRlclsyXV0sIC8vIE5XXHJcbiAgICBbLXcyK2NlbnRlclswXSwgLWQyK2NlbnRlclsxXSwgLWgyK2NlbnRlclsyXV0sIC8vIFNXXHJcblxyXG4gICAgWyB3MitFK2NlbnRlclswXSwgLWQyLVMrY2VudGVyWzFdLCAgaDIrY2VudGVyWzJdXSwgLy8gU0VcclxuICAgIFsgdzIrRStjZW50ZXJbMF0sICBkMitOK2NlbnRlclsxXSwgIGgyK2NlbnRlclsyXV0sIC8vIE5FXHJcbiAgICBbLXcyLVcrY2VudGVyWzBdLCAgZDIrTitjZW50ZXJbMV0sICBoMitjZW50ZXJbMl1dLCAvLyBOV1xyXG4gICAgWy13Mi1XK2NlbnRlclswXSwgLWQyLVMrY2VudGVyWzFdLCAgaDIrY2VudGVyWzJdXSwgLy8gU1dcclxuICBdXHJcbiAgcmV0dXJuIGRpclJvdGF0ZU1vdmUob3B0aW9ucyxjdWJvaWRGcm9tUG9pbnRzKHBvaW50cykpWzBdXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBib3R0b21QeXJhbWlkKG9wdGlvbnMpe1xyXG4gIGxldCB7c2l6ZT0xLCBjZW50ZXI9WzAsMCwwXX0gPSBvcHRpb25zXHJcbiAgaWYodHlwZW9mIHNpemUgPT0gJ251bWJlcicpIHNpemUgPSBvcHRpb25zLnNpemUgPSBbc2l6ZSwgc2l6ZSwgTWF0aC5zcXJ0KHNpemUqc2l6ZS8yKV1cclxuXHJcbiAgb3B0aW9ucy5jZW50ZXIgPSBkaXJBbGlnbihvcHRpb25zLmFsaWduIHx8ICdUJywgb3B0aW9ucy5zaXplLCBbMCwwLG9wdGlvbnMuYm90dG9tIHx8IDBdKVxyXG5cclxuICBsZXQgW3gseSx6XSA9IHNpemU7XHJcbiAgbGV0IFtjeCxjeSxjel0gPSBvcHRpb25zLmNlbnRlcjtcclxuICBsZXQgeDIgPSB4LzJcclxuICBsZXQgeTIgPSB5LzJcclxuICBsZXQgejIgPSB6LzJcclxuICBsZXQgZGF0YSA9IHtcclxuICAgIHBvaW50czpbXHJcbiAgICAgIFtjeCAtIHgyLCBjeSAtIHkyLCBjeiAtejJdLFxyXG4gICAgICBbY3ggKyB4MiwgY3kgLSB5MiwgY3ogLXoyXSxcclxuICAgICAgW2N4ICsgeDIsIGN5ICsgeTIsIGN6IC16Ml0sXHJcbiAgICAgIFtjeCAtIHgyLCBjeSArIHkyLCBjeiAtejJdLFxyXG4gICAgICAvLyB0b3AgaXMgYWRkZWQgbGF0ZXJcclxuICAgIF0sXHJcbiAgICBmYWNlczpbXHJcbiAgICAgIFszLDIsMSwwXSxcclxuICAgICAgWzAsMSw0XSxcclxuICAgICAgWzEsMiw0XSxcclxuICAgICAgWzIsMyw0XSxcclxuICAgICAgWzMsMCw0XSxcclxuICAgIF1cclxuICB9XHJcbiAgbGV0IHRvcCA9IFtjeCArIDAgLCBjeSArICAwLCBjeiArejJdO1xyXG4gIGRpckFsaWduKG9wdGlvbnMuYWxpZ25Ub3AsIHNpemUsdG9wKVxyXG4gIHRvcCA9IHRyYW5zbGF0ZVBvaW50KHRvcCxvcHRpb25zLnRyYW5zbGF0ZVRvcClcclxuXHJcbiAgZGF0YS5wb2ludHMucHVzaCh0b3ApXHJcbiAgbGV0IHBpZWNlID0gcG9seWhlZHJvbihkYXRhKVxyXG4gIHBpZWNlLnBvbHlnb25zW1RIUkVFX3V0aWwuYXJyYXlHZW9tZXRyeUNhY2hla2V5XSA9IGRhdGFcclxuICByZXR1cm4gZGlyUm90YXRlTW92ZShvcHRpb25zLCBwaWVjZSlbMF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBib3R0b21QeXJhbWlkQ29ybmVyKG9wdGlvbnMpe1xyXG4gIGxldCB7c2l6ZT0xLCBjZW50ZXI9WzAsMCwwXSwgY29ybmVyPTB9ID0gb3B0aW9uc1xyXG4gIGlmKHR5cGVvZiBzaXplID09ICdudW1iZXInKSBzaXplID0gb3B0aW9ucy5zaXplID0gW3NpemUsIHNpemUsIE1hdGguc3FydChzaXplKnNpemUvMildXHJcblxyXG4gIG9wdGlvbnMuY2VudGVyID0gZGlyQWxpZ24ob3B0aW9ucy5hbGlnbiB8fCAnVCcsIG9wdGlvbnMuc2l6ZSwgWzAsMCxvcHRpb25zLmJvdHRvbSB8fCAwXSlcclxuXHJcbiAgbGV0IFt4LHksel0gPSBzaXplO1xyXG4gIGxldCBbY3gsY3ksY3pdID0gb3B0aW9ucy5jZW50ZXI7XHJcbiAgbGV0IHgyID0geC8yXHJcbiAgbGV0IHkyID0geS8yXHJcbiAgbGV0IHoyID0gei8yXHJcbiAgbGV0IGRhdGEgPSB7XHJcbiAgICBwb2ludHM6W1xyXG4gICAgICBbY3ggKyB4MiwgY3kgKyB5MiwgY3ogLXoyXSxcclxuICAgICAgW2N4IC0geDIsIGN5ICsgeTIsIGN6IC16Ml0sXHJcbiAgICAgIFtjeCAtIHgyLCBjeSAtIHkyLCBjeiAtejJdLFxyXG4gICAgICBbY3ggKyB4MiwgY3kgLSB5MiwgY3ogLXoyXSxcclxuICAgICAgLy8gdG9wIGlzIGFkZGVkIGxhdGVyXHJcbiAgICBdLFxyXG4gICAgZmFjZXM6W1xyXG4gICAgICBbMiwxLDBdLFxyXG4gICAgICBbMCwxLDNdLFxyXG4gICAgICBbMSwyLDNdLFxyXG4gICAgICBbMiwwLDNdLFxyXG4gICAgICAvLyBbMywwLDRdLFxyXG4gICAgXVxyXG4gIH1cclxuICBkYXRhLnBvaW50cy5zcGxpY2UoY29ybmVyJTQsMSlcclxuICBsZXQgdG9wID0gW2N4ICsgMCAsIGN5ICsgIDAsIGN6ICt6Ml07XHJcbiAgZGlyQWxpZ24ob3B0aW9ucy5hbGlnblRvcCwgc2l6ZSx0b3ApXHJcbiAgdG9wID0gdHJhbnNsYXRlUG9pbnQodG9wLG9wdGlvbnMudHJhbnNsYXRlVG9wKVxyXG4gIFxyXG4gIGRhdGEucG9pbnRzLnB1c2godG9wKVxyXG4gIGxldCBwaWVjZSA9IHBvbHloZWRyb24oZGF0YSlcclxuICBwaWVjZS5wb2x5Z29uc1tUSFJFRV91dGlsLmFycmF5R2VvbWV0cnlDYWNoZWtleV0gPSBkYXRhXHJcbiAgcmV0dXJuIGRpclJvdGF0ZU1vdmUob3B0aW9ucywgcGllY2UpWzBdO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cmFuc2xhdGVQb2ludChwLHQpe1xyXG4gIGlmKHQpIHJldHVybiBbcFswXSArIHRbMF0gfHwgMCwgcFsxXSArIHRbMV0gfHwgMCwgcFsyXSB8fCAwICsgdFsyXSB8fCAwXVxyXG4gICAgcmV0dXJuIHBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJvdHRvbUN5bGluZGVyKG9wdGlvbnMpe1xyXG4gIHJldHVybiBib3R0b21DeWxpbmRlckVsbGlwdGljKG9wdGlvbnMpXHJcbiAgLy8gbGV0IHIyID0gb3B0aW9ucy5yYWRpdXMqMlxyXG4gIC8vIG9wdGlvbnMuY2VudGVyID0gZGlyQWxpZ24ob3B0aW9ucy5hbGlnbiB8fCAnVCcsIFtyMixyMixvcHRpb25zLmhlaWdodF0sIFswLDAsb3B0aW9ucy5ib3R0b20gfHwgMF0pXHJcbiAgLy8gbGV0IHBpZWNlID0gY3lsaW5kZXIob3B0aW9ucylcclxuICAvLyBpZihvcHRpb25zLndhbGwpe1xyXG4gIC8vICAgbGV0IHt0b3BXYWxsID0gMCwgYm90dG9tV2FsbCA9IDB9ID0gb3B0aW9uc1xyXG4gIC8vICAgb3B0aW9ucy5oZWlnaHQgLT0gdG9wV2FsbCArIGJvdHRvbVdhbGxcclxuICAvLyAgIG9wdGlvbnMucmFkaXVzIC09IG9wdGlvbnMud2FsbFxyXG4gIC8vICAgb3B0aW9ucy5jZW50ZXJbMl0gKz0gYm90dG9tV2FsbCAtIChib3R0b21XYWxsICsgdG9wV2FsbCkgLyAyXHJcbiAgLy8gICBwaWVjZSA9IHN1YnRyYWN0KHBpZWNlLCBjeWxpbmRlcihvcHRpb25zKSlcclxuICAvLyB9XHJcbiAgLy8gaWYob3B0aW9ucy5ob2xlcykgcGllY2UgPSBzdWJ0cmFjdChwaWVjZSwgLi4ub3B0aW9ucy5ob2xlcylcclxuICAvLyByZXR1cm4gZGlyUm90YXRlTW92ZShvcHRpb25zLCBwaWVjZSlbMF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBib3R0b21DeWxpbmRlckVsbGlwdGljKG9wdGlvbnMpe1xyXG4gIGxldCB7cmFkaXVzLCBzbGljZX0gPSBvcHRpb25zXHJcbiAgY29uc3QgdG9BcnJheSA9IHZhbD0+dmFsIGluc3RhbmNlb2YgQXJyYXkgPyB2YWw6W3ZhbCx2YWxdXHJcbiAgaWYocmFkaXVzKSBvcHRpb25zLnN0YXJ0UmFkaXVzID0gW3JhZGl1cyxyYWRpdXNdXHJcblxyXG4gIG9wdGlvbnMuc3RhcnRSYWRpdXMgPSB0b0FycmF5KG9wdGlvbnMuc3RhcnRSYWRpdXMpXHJcbiAgbGV0IHtzdGFydFJhZGl1c30gPSBvcHRpb25zXHJcblxyXG4gIGlmKCFvcHRpb25zLmVuZFJhZGl1cykgb3B0aW9ucy5lbmRSYWRpdXMgPSBzdGFydFJhZGl1cztcclxuICBvcHRpb25zLmVuZFJhZGl1cyA9IHRvQXJyYXkob3B0aW9ucy5lbmRSYWRpdXMpXHJcbiAgXHJcbiAgb3B0aW9ucy5jZW50ZXIgPSBkaXJBbGlnbihvcHRpb25zLmFsaWduIHx8ICdUJywgW3N0YXJ0UmFkaXVzWzBdKjIsc3RhcnRSYWRpdXNbMV0qMixvcHRpb25zLmhlaWdodF0sIFswLDAsb3B0aW9ucy5ib3R0b20gfHwgMF0pXHJcbi8vICBvcHRpb25zLmNlbnRlciA9IFswLDAsb3B0aW9ucy5oZWlnaHQvMisob3B0aW9ucy5ib3R0b20gfHwgMCldO1xyXG4gIGlmKHNsaWNlKXtcclxuICAgIGlmKHR5cGVvZiBzbGljZSA9PSAnc3RyaW5nJykgc2xpY2UgPSBtYWtlQ3lsaW5kZXJTbGljZShzbGljZSlcclxuICAgIG9wdGlvbnMuc3RhcnRBbmdsZSA9IHNsaWNlWzBdXHJcbiAgICBvcHRpb25zLmVuZEFuZ2xlID0gc2xpY2VbMV1cclxuICB9XHJcbiAgaWYob3B0aW9ucy5zbGljZUQpe1xyXG4gICAgb3B0aW9ucy5zdGFydEFuZ2xlID0gdG9SYWQob3B0aW9ucy5zbGljZURbMF0pXHJcbiAgICBvcHRpb25zLmVuZEFuZ2xlID0gdG9SYWQob3B0aW9ucy5zbGljZURbMV0pXHJcbiAgfVxyXG4gIGxldCBwaWVjZSA9IGN5bGluZGVyRWxsaXB0aWMob3B0aW9ucylcclxuICBpZihvcHRpb25zLndhbGwpe1xyXG4gICAgbGV0IGVuZFdhbGxcclxuICAgIGxldCBzdGFydFdhbGwgPSBlbmRXYWxsID0gb3B0aW9ucy53YWxsXHJcbiAgICBpZihzdGFydFdhbGwgaW5zdGFuY2VvZiBBcnJheSl7XHJcbiAgICAgIGVuZFdhbGwgPSBzdGFydFdhbGxbMV1cclxuICAgICAgc3RhcnRXYWxsID0gc3RhcnRXYWxsWzBdXHJcbiAgICB9XHJcbiAgICBsZXQge3RvcFdhbGwgPSAwLCBib3R0b21XYWxsID0gMH0gPSBvcHRpb25zXHJcbiAgICBvcHRpb25zLmhlaWdodCAtPSB0b3BXYWxsICsgYm90dG9tV2FsbFxyXG4gICAgb3B0aW9ucy5zdGFydFJhZGl1cyA9IHJlZHVjZVdpZHRoKHN0YXJ0UmFkaXVzLCBzdGFydFdhbGwpXHJcbiAgICBvcHRpb25zLmVuZFJhZGl1cyA9IHJlZHVjZVdpZHRoKG9wdGlvbnMuZW5kUmFkaXVzLCBlbmRXYWxsKVxyXG4gICAgb3B0aW9ucy5jZW50ZXJbMl0gKz0gYm90dG9tV2FsbCAtIChib3R0b21XYWxsICsgdG9wV2FsbCkgLyAyXHJcbiAgICBwaWVjZSA9IHN1YnRyYWN0KHBpZWNlLCBjeWxpbmRlckVsbGlwdGljKG9wdGlvbnMpKVxyXG4gIH1cclxuICBpZihvcHRpb25zLmhvbGVzKSBwaWVjZSA9IHN1YnRyYWN0KHBpZWNlLCAuLi5vcHRpb25zLmhvbGVzKVxyXG4gIHJldHVybiBkaXJSb3RhdGVNb3ZlKG9wdGlvbnMsIHBpZWNlKVswXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpckFsaWduKGFsaWduPSdUJyxzaXplPVsxLDEsMV0sY2VudGVyPVswLDAsMF0pe1xyXG4gIGlmKCFhbGlnbikgcmV0dXJuO1xyXG4gIGZvcihsZXQgaT0wOyBpPGFsaWduLmxlbmd0aDsgaSsrKXtcclxuICAgIGxldCBkaXIgPSBhbGlnbltpXTtcclxuICAgIGlmKGRpciA9PSAnVCcpIGNlbnRlclsyXSArPSBzaXplWzJdLzJcclxuICAgIGlmKGRpciA9PSAnQicpIGNlbnRlclsyXSAtPSBzaXplWzJdLzJcclxuICAgIGlmKGRpciA9PSAnUycpIGNlbnRlclsxXSAtPSBzaXplWzFdLzJcclxuICAgIGlmKGRpciA9PSAnTicpIGNlbnRlclsxXSArPSBzaXplWzFdLzJcclxuICAgIGlmKGRpciA9PSAnRScpIGNlbnRlclswXSArPSBzaXplWzBdLzJcclxuICAgIGlmKGRpciA9PSAnVycpIGNlbnRlclswXSAtPSBzaXplWzBdLzJcclxuICB9XHJcbiAgcmV0dXJuIGNlbnRlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpclJvdGF0ZU1vdmUob3B0aW9ucywuLi5lbGVtcyl7XHJcbiAgbGV0IGRpcnMgPSBvcHRpb25zLmRpcnx8Jyc7XHJcbiAgbGV0IHJvdCA9IFswLDAsMF1cclxuICBmb3IobGV0IGk9MDsgaTxkaXJzLmxlbmd0aDsgaSsrKXtcclxuICAgIGxldCBkaXIgPSBkaXJzW2ldO1xyXG4gICAgaWYoZGlyID09ICdCJykgcm90ID0gWzE4MCwwLDBdXHJcbiAgICBpZihkaXIgPT0gJ1MnKSByb3QgPSBbOTAsMCwwXSBcclxuICAgIGlmKGRpciA9PSAnTicpIHJvdCA9IFstOTAsMCwwXVxyXG4gICAgaWYoZGlyID09ICdFJykgcm90ID0gWzAsOTAsMF0gXHJcbiAgICBpZihkaXIgPT0gJ1cnKSByb3QgPSBbMCwtOTAsMF1cclxuICAgIFxyXG4gICAgaWYoZGlyID09ICdZJykgcm90WzFdICs9IDkwXHJcbiAgICBpZihkaXIgPT0gJ3knKSByb3RbMV0gLT0gOTBcclxuXHJcbiAgICBpZihkaXIgPT0gJ1gnKSByb3RbMF0gKz0gOTBcclxuICAgIGlmKGRpciA9PSAneCcpIHJvdFswXSAtPSA5MFxyXG5cclxuICAgIGlmKGRpciA9PSAnWicpIHJvdFsyXSArPSA5MFxyXG4gICAgaWYoZGlyID09ICd6Jykgcm90WzJdIC09IDkwXHJcbiAgfVxyXG5cclxuICBlbGVtcyA9IFtyb3RhdGVEKHJvdCAsLi4uZWxlbXMpXVxyXG5cclxuICBpZihvcHRpb25zLnR4IHx8IG9wdGlvbnMudHkgfHwgb3B0aW9ucy50eilcclxuICAgIGVsZW1zID0gW3RyYW5zbGF0ZShbb3B0aW9ucy50eCB8fCAwLCBvcHRpb25zLnR5IHx8IDAsIG9wdGlvbnMudHogfHwgMCBdLCAuLi5lbGVtcyldO1xyXG5cclxuICByZXR1cm4gZWxlbXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWduZXRIb2xlKG9wdGlvbnMpe1xyXG4gIG9wdGlvbnMucmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgb3B0aW9ucy5yIHx8IChfck1hZ25ldCArIG9wdGlvbnMuclRvbCB8fCAwKVxyXG4gIG9wdGlvbnMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgb3B0aW9ucy5oIHx8IChfaE1hZ25ldCArIG9wdGlvbnMuaFRvbCB8fCAwKVxyXG4gIHJldHVybiBib3R0b21DeWxpbmRlcihvcHRpb25zKVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNzZ0Zyb21TZWdtZW50cyAoc2VnbWVudHMsIHt3PTIsIGg9MX09e30pIHtcclxuICByZXR1cm4gc2VnbWVudHMubWFwKHNlZ21lbnQgPT4gcmVjdGFuZ3VsYXJfZXh0cnVkZShzZWdtZW50LCB7IHcsIGggfSkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VUZXh0KHt0ZXh0PSdBJywgaGVpZ2h0PTEwLCB3PTIsIGg9MX09e30pIHtcclxuICBpZiAodGV4dCA9PT0gdW5kZWZpbmVkIHx8IHRleHQubGVuZ3RoID09PSAwKSByZXR1cm4gW11cclxuICBjb25zdCBsaW5lU2VnbWVudHMzRCA9IFtdXHJcbiAgY29uc3QgbGluZVNlZ21lbnRQb2ludEFycmF5cyA9IHZlY3RvclRleHQoeyB4OiAwLCB5OiAwLCBoZWlnaHQsIGlucHV0OiB0ZXh0IH0pIC8vIGxpbmUgc2VnbWVudHMgZm9yIGVhY2ggY2hhcmFjdGVyXHJcbiAgbGluZVNlZ21lbnRQb2ludEFycmF5cy5mb3JFYWNoKChzZWdtZW50UG9pbnRzKSA9PiB7IC8vIHByb2Nlc3MgdGhlIGxpbmUgc2VnbWVudFxyXG4gICAgY29uc3Qgc2VnbWVudFNoYXBlID0gZXh0cnVkZUxpbmVhcihcclxuICAgICAgeyBoZWlnaHQ6IGggfSxcclxuICAgICAganNjYWQuZXhwYW5zaW9ucy5leHBhbmQoeyBkZWx0YTogdywgY29ybmVyczogJ3JvdW5kJywgc2VnbWVudHM6IDE2IH0sIGpzY2FkLnByaW1pdGl2ZXMubGluZShzZWdtZW50UG9pbnRzKSlcclxuICAgIClcclxuICAgIGxpbmVTZWdtZW50czNELnB1c2goc2VnbWVudFNoYXBlKVxyXG4gIH0pXHJcblxyXG4gIGNvbnN0IG1lc3NhZ2VPYmplY3QgPSBjZW50ZXIoW3RydWUsIHRydWUsIGZhbHNlXSwgdW5pb24obGluZVNlZ21lbnRzM0QpKVxyXG4gIHJldHVybiBtZXNzYWdlT2JqZWN0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbTVfbnV0KHtoZWlnaHQ9X201X251dF9oLCByYWRpdXM9X201X251dCwgc2VnbWVudHM9NiwgclRvbD0wLCBoVG9sPTAsIGJvdHRvbT0wLCBkaXI9J1QnLCBhbGlnbj0nVCcsIHR4PTAsIHR5PTAsIHR6PTB9PXt9KXtcclxuICBsZXQgb3B0aW9ucyA9IHtoZWlnaHQsIHJhZGl1cywgc2VnbWVudHMsIHJUb2wsIGhUb2wsIGJvdHRvbSwgYWxpZ24sIGRpciwgdHgsIHR5LCB0en1cclxuICBvcHRpb25zLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzICsgb3B0aW9ucy5yVG9sO1xyXG4gIG9wdGlvbnMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyBvcHRpb25zLmhUb2w7XHJcbiAgcmV0dXJuIGJvdHRvbUN5bGluZGVyKG9wdGlvbnMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbTVfc2NyZXcoe2hlaWdodD0xMCwgcmFkaXVzPV9tNV9zY3Jldywgc2VnbWVudHM9MzIsIHJUb2w9MCwgaFRvbD0wLCBib3R0b209MCwgZGlyPSdUJywgYWxpZ249J1QnLCB0eD0wLCB0eT0wLCB0ej0wfT17fSl7XHJcbiAgbGV0IG9wdGlvbnMgPSB7aGVpZ2h0LCByYWRpdXMsIHNlZ21lbnRzLCByVG9sLCBoVG9sLCBib3R0b20sIGRpciwgdHgsIHR5LCB0en1cclxuICBvcHRpb25zLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzICsgb3B0aW9ucy5yVG9sO1xyXG4gIG9wdGlvbnMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyBvcHRpb25zLmhUb2w7XHJcbiAgcmV0dXJuIGJvdHRvbUN5bGluZGVyKG9wdGlvbnMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbTVfYm90aCh7aGVpZ2h0PTEwLCBib3R0b209MCwgclRvbDE9MCwgclRvbDI9MCwgaFRvbD0wLCBkaXI9J1QnLCBhbGlnbj0nVCcsIHR4PTAsIHR5PTAsIHR6PTB9PXt9KXtcclxuICBsZXQgcjIgPSBfbTVfbnV0KjJcclxuICBsZXQgc2l6ZSA9IFtyMixyMixoZWlnaHRdIC8vIHNpemUgdG9nZXRoZXJcclxuICBcclxuICBsZXQgbnV0SGFsZiA9IF9tNV9udXRfaC8yO1xyXG4gIGxldCBjZW50ZXIgPSBkaXJBbGlnbihhbGlnbixzaXplLCBbMCwwLCBib3R0b20gLSBoZWlnaHQvMiArIG51dEhhbGZdKVxyXG4gIGxldCBudXQgPSBjeWxpbmRlcih7c2VnbWVudHM6NiwgcmFkaXVzOl9tNV9udXQrclRvbDEsIGhlaWdodDpfbTVfbnV0X2gsIGNlbnRlcn0pXHJcblxyXG4gIGNlbnRlciA9IGRpckFsaWduKGFsaWduLHNpemUsIFswLDAsIGJvdHRvbSArbnV0SGFsZl0pXHJcbiAgbGV0IHNjcmV3ICAgPSBjeWxpbmRlcih7aGVpZ2h0OmhlaWdodC0gX201X251dF9oLCByYWRpdXM6X201X3NjcmV3K3JUb2wyLCBjZW50ZXJ9KVxyXG5cclxuICByZXR1cm4gZGlyUm90YXRlTW92ZSh7ZGlyLHR4LHR5LHR6fSxbbnV0LCBzY3Jld10pXHJcbn0iLCAiaW1wb3J0IGpzY2FkIGZyb20gXCJAanNjYWQvbW9kZWxpbmdcIjtcclxuY29uc3Qge3JvdGF0ZX0gPSBqc2NhZC50cmFuc2Zvcm1zXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlRChhbmdsZXMsIC4uLnBhcnRzKXtcclxuICByZXR1cm4gcm90YXRlKGFuZ2xlcy5tYXAodG9SYWQpLC4uLnBhcnRzKVxyXG59XHJcbi8vIGd1ZXNzaW5nIHdoZXJlIGFyZSB0aG9zZSBob2xlcyBpZiBtaXNjYWxjdWxhdGVkIGNhbiBiYSBhIHBhaW5cclxuLy8gdXNlIHRoaXMgdG8gcHJldmlldyB0aGUgYm9vbGVhbiBvcGVyYXRpb25zLiBcclxuLy8gaXQgaXMgYWxzbyBtYXNzaXZlbHkgZmFzdGVyIHRoYW4gdGhlIGFjdHVhbCBzdWJ0cmFjdCAoc28gaXQgbWF5IGhlbHAgd2hpbGUgdGVzdGluZylcclxuXHJcbmNvbnN0IGV4dHJ1ZGVDaGFtZmVyID0gKHtiYXNlU2xpY2UsIGg9MTAsIGN1dD0wLCBjdXRUb3A9MCwgY3V0Qm90dG9tPTAsIHR6PTAsIHR4PTAsIHR5PTB9KSA9PiB7XHJcbiAgY3V0VG9wID0gY3V0VG9wIHx8IGN1dDtcclxuICBjdXRCb3R0b20gPSBjdXRCb3R0b20gfHwgY3V0O1xyXG4gIGxldCBsZXZlbHMgPSBbXTtcclxuICBcclxuICBpZihjdXRCb3R0b20pe1xyXG4gIFx0bGV2ZWxzLnB1c2goWzAsLWN1dEJvdHRvbV0pO1xyXG4gIFx0bGV2ZWxzLnB1c2goW2N1dEJvdHRvbSwwXSk7IFxyXG4gIH1lbHNle1xyXG4gIFx0bGV2ZWxzLnB1c2goWzAsMF0pOyBcclxuICB9XHJcbiAgXHJcbiAgbGV2ZWxzLnB1c2goW2gtY3V0VG9wLWN1dEJvdHRvbSwwXSk7IFxyXG4gIFxyXG4gIGlmKGN1dFRvcCl7XHJcblx0ICBsZXZlbHMucHVzaChbY3V0VG9wLCAtY3V0VG9wXSk7IFxyXG4gIH1cclxuICBcclxuICByZXR1cm4gZXh0cnVkZUxldmVscyh7bGV2ZWxzLCBiYXNlU2xpY2UsIHR6LCB0eCwgdHl9KVxyXG59XHJcblxyXG5jb25zdCBleHRydWRlTGV2ZWxzID0gKHtsZXZlbHMsIGJhc2VTbGljZSwgY29ybmVycz0nZWRnZScsIHNlZ21lbnRzPTE2LCB0ej0wLCB0eD0wLCB0eT0wfSkgPT4ge1xyXG4gIGxldCBoID0gMDtcclxuICByZXR1cm4gZXh0cnVkZUZyb21TbGljZXMoe251bWJlck9mU2xpY2VzOmxldmVscy5sZW5ndGgsIGNhbGxiYWNrOihwcm9ncmVzcywgY291bnRlcik9PntcclxuICAgIGxldCBsZXZlbCA9IGxldmVsc1tjb3VudGVyXTtcclxuICAgIGggKz0gbGV2ZWxbMF07XHJcblxyXG4gICAgYmFzZSA9IGpzY2FkLmV4cGFuc2lvbnMub2Zmc2V0KHtkZWx0YTpsZXZlbFsxXSwgY29ybmVycywgc2VnbWVudHN9LGJhc2VTbGljZSk7XHJcbiAgICAvLyBESVJUWSBGSVggZm9yIHdoYXQgZXhwYW5kIGRvZXMgdG8gb3JpZ2luYWwgZ2VvbVxyXG4gICAgaWYobGV2ZWxbMV0gPiAwKXtcclxuICAgIFx0aWYoY29ybmVycyA9PSAncm91bmQnKXtcdFx0XHJcblx0ICAgIFx0Zm9yKGxldCBpPTA7IGk8c2VnbWVudHMtMTsgaSsrKXtcclxuXHRcdCAgICBcdGxldCB0bXAgPSBiYXNlLnNpZGVzLnNoaWZ0KCk7XHJcblx0XHQgICAgXHRiYXNlLnNpZGVzLnB1c2godG1wKTtcclxuXHQgICAgXHR9XHJcbiAgICBcdH1lbHNle1xyXG5cdCAgICBcdGxldCB0bXAgPSBiYXNlLnNpZGVzLnBvcCgpO1xyXG5cdCAgICBcdGJhc2Uuc2lkZXMudW5zaGlmdCh0bXApO1xyXG4gICAgXHR9XHJcbiAgICB9XHJcbiAgICBiYXNlID0gc2xpY2UuZnJvbVNpZGVzKGJhc2Uuc2lkZXMpO1xyXG4gICAgcmV0dXJuIHNsaWNlLnRyYW5zZm9ybShtYXQ0LmZyb21UcmFuc2xhdGlvbihbXSxbMCwgMCwgaCt0el0pLCBiYXNlKTtcclxuICB9fSk7XHRcclxufVxyXG5cclxuY29uc3QgZXh0cnVkZVBhaXJzID0gKHtwYWlycywgdHo9MCwgdHg9MCwgdHk9MH0pID0+IHtcclxuICByZXR1cm4gZXh0cnVkZUZyb21TbGljZXMoe251bWJlck9mU2xpY2VzOnBhaXJzLmxlbmd0aCwgY2FsbGJhY2s6KHByb2dyZXNzLCBjb3VudGVyKT0+e1xyXG4gICAgbGV0IFtoLGJhc2VdID0gcGFpcnNbY291bnRlcl1cclxuICAgIGNvbnNvbGUubG9nKCdiYXNlJyxiYXNlKTtcclxuICAgIGJhc2UgPSBzbGljZS5mcm9tU2lkZXMoYmFzZS5zaWRlcyk7XHJcbiAgICByZXR1cm4gc2xpY2UudHJhbnNmb3JtKG1hdDQuZnJvbVRyYW5zbGF0aW9uKFtdLFswLCAwLCBoK3R6XSksIGJhc2UpO1xyXG4gIH19KTsgIFxyXG59XHJcblxyXG5jb25zdCBleHRydWRlTGV2ZWxHZW4gPSAoe2xldmVscywgZ2VuZXJhdG9yLCB0ej0wLCB0eD0wLCB0eT0wfSkgPT4ge1xyXG4gIHJldHVybiBleHRydWRlRnJvbVNsaWNlcyh7bnVtYmVyT2ZTbGljZXM6bGV2ZWxzLmxlbmd0aCwgY2FsbGJhY2s6KHByb2dyZXNzLCBjb3VudGVyKT0+e1xyXG4gICAgbGV0IGFyZ3MgPSBsZXZlbHNbY291bnRlcl1cclxuICAgIGJhc2UgPSBzbGljZS5mcm9tU2lkZXMoZ2VuZXJhdG9yKC4uLmFyZ3MsIHByb2dyZXNzLCBjb3VudGVyKSlcclxuICAgIHJldHVybiBzbGljZS50cmFuc2Zvcm0obWF0NC5mcm9tVHJhbnNsYXRpb24oW10sWzAsIDAsIGFyZ3NbYXJncy5sZW5ndGgtMV0rdHpdKSwgYmFzZSlcclxuICB9fSk7ICBcclxufVxyXG5cclxuY29uc3QgZXh0cnVkZVNjYWxlTGV2ZWxzID0gKHtsZXZlbHMsIGJhc2VTbGljZSwgY29ybmVycz0nZWRnZScsIHNlZ21lbnRzPTE2LCB0ej0wLCB0eD0wLCB0eT0wfSkgPT4ge1xyXG4gIGxldCBoID0gMDtcclxuICBiYXNlU2xpY2UgPSBzbGljZS5mcm9tU2lkZXMoZ2VvbTIudG9TaWRlcyhiYXNlU2xpY2UpKVxyXG4gIHJldHVybiBleHRydWRlRnJvbVNsaWNlcyh7bnVtYmVyT2ZTbGljZXM6bGV2ZWxzLmxlbmd0aCwgY2FsbGJhY2s6KHByb2dyZXNzLCBjb3VudGVyKT0+e1xyXG4gICAgbGV0IGxldmVsID0gbGV2ZWxzW2NvdW50ZXJdO1xyXG4gICAgbGV0IF9zbGljZSA9IGJhc2VTbGljZVxyXG4gICAgXHJcbiAgICBpZihsZXZlbFszXSkgX3NsaWNlID0gc2xpY2UuZnJvbVNpZGVzKGdlb20yLnRvU2lkZXMobGV2ZWxbM10pKVxyXG4gICAgXHJcbiAgICBoICs9IGxldmVsWzBdO1xyXG5cclxuICAgIGxldCBzY2FsZVggPSBzY2FsZVkgPSBsZXZlbFsxXTtcclxuICAgIGlmKGxldmVsLmxlbmd0aCA+IDIpIHNjYWxlWSA9IGxldmVsWzJdO1xyXG5cclxuICAgIGNvbnN0IHNjYWxlTWF0cml4ID0gbWF0NC5mcm9tU2NhbGluZyhbc2NhbGVYLCBzY2FsZVksIDFdKVxyXG4gICAgY29uc3QgdHJhbnNmb3JtTWF0cml4ID0gbWF0NC5mcm9tVHJhbnNsYXRpb24oWzAsIDAsIGgrdHpdKVxyXG4gICAgcmV0dXJuIHNsaWNlLnRyYW5zZm9ybShtYXQ0Lm11bHRpcGx5KHNjYWxlTWF0cml4LCB0cmFuc2Zvcm1NYXRyaXgpLCBfc2xpY2UpXHJcbiAgfX0pO1xyXG59XHJcblxyXG5cclxuY29uc3Qgcm91bmRUb3AgPSAoYmFzZSwge2hlaWdodD00LCByMT0wLjIsIHIxUGVyY2VudD0wLCByeD0wLjEsIHJ5PTAsIHNlZ21lbnRzPTF9KSA9PiB7XHJcbiAgICBpZihyMVBlcmNlbnQpIHIxID0gcjFQZXJjZW50ICogaGVpZ2h0O1xyXG4gICAgcnkgPSByeSB8fCByeDtcclxuICAgIC8vIHJhZGl1cyBpcyBmb3Igb25lIHNpZGUsIGFuZCBzY2FsZSBmYWN0b3IgaXMgZm9yIGJvdGhcclxuICAgIHJ4ID0gcngqMjsgXHJcbiAgICByeSA9IHJ5KjI7XHJcblxyXG5cclxuICAgIGxldCBudW1iZXJPZlNsaWNlcyA9IDIgKyBzZWdtZW50cztcclxuICAgIGxldCBzdGVwID0gMS8obnVtYmVyT2ZTbGljZXMtMSk7XHJcbiAgICBsZXQgYW5nbGVEZWx0YSA9IE1hdGguUEkgLyAoc2VnbWVudHMpIC8gMiA7XHJcbiAgICBsZXQgYW5nbGVEZWx0YTIgPSAxODAgLyAoc2VnbWVudHMpIC8gMiA7XHJcbiBcclxuXHJcbiAgICBsZXQgc3RhcnRIID0gaGVpZ2h0IC0gcjE7XHJcblxyXG4gICAgbGV0IGJhc2VTbGljZSA9IHNsaWNlLmZyb21TaWRlcyhnZW9tMi50b1NpZGVzKGJhc2UpKVxyXG5cclxuICAgIHJldHVybiBleHRydWRlRnJvbVNsaWNlcyh7XHJcbiAgICAgIG51bWJlck9mU2xpY2VzLFxyXG4gICAgICBjYWxsYmFjazogKHByb2dyZXNzLCBjb3VudGVyLCBiYXNlU2xpY2UpID0+IHtcclxuICAgICAgICBsZXQgaCA9IHByb2dyZXNzICogaGVpZ2h0O1xyXG4gICAgICAgIGxldCBzY2FsZVggPSAxO1xyXG4gICAgICAgIGxldCBzY2FsZVkgPSAxO1xyXG5cclxuICAgICAgICBpZihwcm9ncmVzcyA9PSAxKXsgLy8gdG9wIHNsaWNlIChjb3VudGVyID0gbnVtU2xpY2VzLTEpXHJcbiAgICAgICAgICBzY2FsZVggPSAxIC0gcng7XHJcbiAgICAgICAgICBzY2FsZVkgPSAxIC0gcnk7XHJcbiAgICAgICAgfWVsc2UgaWYocHJvZ3Jlc3MgPT0gc3RlcCl7IC8vIGZpcnN0IHRvcCBzbGljZSAoY291bnRlciA9IDEpXHJcbiAgICAgICAgICBoID0gc3RhcnRIO1xyXG4gICAgICAgIH1lbHNlIGlmKHByb2dyZXNzID4gc3RlcCl7IC8vIGN1cnZlIChjb3VudGVyID0gMiwzLDQuLi4pXHJcbiAgICAgICAgICBsZXQgYW5nbGUgPSAoY291bnRlciAtMSkgKiBhbmdsZURlbHRhO1xyXG4gICAgICAgICAgaCA9IGhlaWdodCAtIHIxICsgKE1hdGguc2luKGFuZ2xlKSAqIHIxKTtcclxuICAgICAgICAgIHNjYWxlWCA9IDEgLSByeCArIChNYXRoLmNvcyhhbmdsZSkgKiByeCk7XHJcbiAgICAgICAgICBzY2FsZVkgPSAxIC0gcnggKyAoTWF0aC5jb3MoYW5nbGUpICogcnkpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgLy8gYm90dG9tIHNsaWNlIChjb3VudGVyID0gMClcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc2NhbGVNYXRyaXggPSBtYXQ0LmZyb21TY2FsaW5nKFtzY2FsZVgsIHNjYWxlWSwgMV0pXHJcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtTWF0cml4ID0gbWF0NC5mcm9tVHJhbnNsYXRpb24oWzAsIDAsIGhdKVxyXG4gICAgICAgIHJldHVybiBzbGljZS50cmFuc2Zvcm0obWF0NC5tdWx0aXBseShzY2FsZU1hdHJpeCwgdHJhbnNmb3JtTWF0cml4KSwgYmFzZVNsaWNlKVxyXG5cclxuICAgICAgfVxyXG4gICAgfSwgYmFzZVNsaWNlKVxyXG4gIH1cclxuXHJcblxyXG5mdW5jdGlvbiBjeWxpbmRlckZyb21UbyhwMSxwMiwgcmFkaXVzKXtcclxuICBjb25zdCBzcXIgPSB4PT54KnhcclxuXHJcbiAgbGV0IGR4ID0gcDJbMF0gLSBwMVswXVxyXG4gIGxldCBkeSA9IHAyWzFdIC0gcDFbMV1cclxuICBsZXQgZHogPSBwMlsyXSAtIHAxWzJdXHJcblxyXG4gIGxldCBoZWlnaHQgPSBNYXRoLnNxcnQoIHNxcihkeCkgKyBzcXIoZHkpICsgc3FyKGR6KSlcclxuICBsZXQgb2JqID0gY3lsaW5kZXIoe3JhZGl1cywgaGVpZ2h0fSlcclxuXHJcbiAgaWYoZHggfHwgZHkpe1xyXG4gICAgbGV0IGR4eSA9IE1hdGguc3FydCggc3FyKGR4KSArIHNxcihkeSkpXHJcbiAgICBcclxuICAgIGxldCBheSA9IE1hdGguYXRhbihkeHkvZHopICooZHggPCAwID8gLTE6MSkgXHJcbiAgICBsZXQgYXogPSBNYXRoLmF0YW4oZHkvZHgpXHJcbiAgICBsZXQgYXggPSBkeiA8IDAgPyAtTWF0aC5QSTowXHJcbiAgICBvYmogPSB0cmFuc2Zvcm1zLnJvdGF0ZShbYXgsYXksYXpdLCBvYmopXHJcbiAgfVxyXG5cclxuICBsZXQgbWlkID0gW3AxWzBdK2R4LzIscDFbMV0rZHkvMixwMVsyXStkei8yXVxyXG5cclxuICByZXR1cm4gdHJhbnNsYXRlKG1pZCwgb2JqKVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcmNQb2ludHMoeyByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBzZWdtZW50cz0zMiwgdHg9MCwgdHk9MCB9KXtcclxuICBsZXQgcmV0ID0gW11cclxuICBsZXQgc3RlcCA9IE1hdGguUEkgLyBzZWdtZW50cyAqIDJcclxuXHJcbiAgaWYoc3RhcnRBbmdsZSA+IGVuZEFuZ2xlKSBlbmRBbmdsZSArPSBNYXRoLlBJICoyXHJcbiAgZm9yKGxldCBpPXN0YXJ0QW5nbGU7IGk8ZW5kQW5nbGU7IGkrPXN0ZXApe1xyXG4gIHJldC5wdXNoKHJQb2ludChyYWRpdXMsIGksIHR4LCB0eSkpXHJcbiAgfVxyXG4gIHJldC5wdXNoKHJQb2ludChyYWRpdXMsIGVuZEFuZ2xlLCB0eCwgdHkpKVxyXG5cclxuICByZXR1cm4gcmV0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJQb2ludEQociwgYW5nbGUsIHR4PTAsIHR5PTApe1xyXG4gIHJldHVybiByUG9pbnQociwgdG9SYWQoYW5nbGUpLCB0eCwgdHkpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJQb2ludChyLCBhbmdsZSwgdHg9MCwgdHk9MCl7XHJcbiAgcmV0dXJuIFt0eCArIHIgKiBNYXRoLmNvcyhhbmdsZSksIHR5ICsgciAqIE1hdGguc2luKGFuZ2xlKV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVsaXBzZVBvaW50KHIxLHIyLCBhbmdsZSl7XHJcbiAgcmV0dXJuIFtyMSAqIE1hdGguY29zKGFuZ2xlKSwgcjIgKiBNYXRoLnNpbihhbmdsZSldO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbGlwc2VQb2ludEQocjEscjIsIGFuZ2xlKXtcclxuICByZXR1cm4gZWxpcHNlUG9pbnQocjEscjIsIHRvUmFkKGFuZ2xlKSlcclxufVxyXG5cclxuZnVuY3Rpb24gZWxpcHNlQW5nbGUocjEscjIsIGFuZ2xlKXtcclxuICBpZihyMSA9PSByMikgcmV0dXJuIGFuZ2xlO1xyXG5cclxuICBsZXQgcG9pbnQgPSBlbGlwc2VQb2ludChyMSxyMiwgYW5nbGUpO1xyXG4gIGxldCBmMSA9IFswLDBdO1xyXG4gIGxldCBmMiA9IFswLDBdO1xyXG4gIGxldCBmO1xyXG4gIGlmKHIxID4gcjIpe1xyXG4gICAgZiA9IE1hdGguc3FydChyMSpyMSAtIHIyKnIyKVxyXG4gICAgZjFbMF0gLT0gZjtcclxuICAgIGYyWzBdICs9IGY7XHJcbiAgfWVsc2V7XHJcbiAgICBmID0gTWF0aC5zcXJ0KHIyKnIyIC0gcjEqcjEpXHJcbiAgICBmMVsxXSAtPSBmO1xyXG4gICAgZjJbMV0gKz0gZjsgICAgXHJcbiAgfVxyXG4gcmV0dXJuICggcG9pbnRBbmdsZShmMSxwb2ludCkgKyBwb2ludEFuZ2xlKGYyLHBvaW50KSApIC8gMjtcclxufVxyXG5cclxuZnVuY3Rpb24gZWxpcHNlQW5nbGVEKHIxLHIyLCBhbmdsZSl7XHJcbiAgaWYocjEgPT0gcjIpIHJldHVybiBhbmdsZTtcclxuICByZXR1cm4gdG9EZWcoIGVsaXBzZUFuZ2xlKHIxLHIyLCB0b1JhZChhbmdsZSkpIClcclxufVxyXG5cclxuZnVuY3Rpb24gZWxpcHNlQW5nbGVNb3ZlRChyMSxyMix0eixhbmdsZSwuLi5waWVjZXMpe1xyXG4gIHJldHVybiBlbGlwc2VBbmdsZU1vdmUocjEscjIsdHosdG9SYWQoYW5nbGUpLC4uLnBpZWNlcylcclxufVxyXG5cclxuZnVuY3Rpb24gZWxpcHNlQW5nbGVNb3ZlKHIxLHIyLHR6LF9hbmdsZSwuLi5waWVjZXMpe1xyXG4gIGxldCBwID0gZWxpcHNlUG9pbnQocjEscjIsIF9hbmdsZSlcclxuICBsZXQgYW5nbGUgPSBlbGlwc2VBbmdsZShyMSxyMiwgX2FuZ2xlKVxyXG4gIHJldHVybiB0cmFuc2xhdGUoWy4uLnAsdHpdLCB0cmFuc2Zvcm1zLnJvdGF0ZShbMCwwLGFuZ2xlXSwuLi5waWVjZXMpKVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gcG9pbnRBbmdsZShwMSwgcDIpe1xyXG4gIHJldHVybiBNYXRoLmF0YW4yKHAyWzFdIC0gcDFbMV0sIHAyWzBdIC0gcDFbMF0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvaW50QW5nbGVEKHAxLCBwMil7XHJcbiAgcmV0dXJuIHRvRGVnKHBvaW50QW5nbGUocDEsIHAyKSlcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdG9SYWQoZCl7cmV0dXJuIGQvMTgwKk1hdGguUEk7fVxyXG5leHBvcnQgZnVuY3Rpb24gdG9EZWcocil7cmV0dXJuIHIqMTgwL01hdGguUEk7fVxyXG5cclxuY29uc3QgX19jYWNoZWRSZXN1bHQgPSB7fVxyXG5mdW5jdGlvbiBjYWNoZWRSZXN1bHQoZnVuYyxwYXJhbXMsLi4udmFyaWFudHMpe1xyXG4gIGxldCBrZXkgPSBmdW5jLnRvU3RyaW5nKClcclxuICBsZXQgcGFyYW1LZXkgPSB7Li4ucGFyYW1zfVxyXG4gIGlmKHZhcmlhbnRzKSB2YXJpYW50cy5mb3JFYWNoKHY9PntcclxuICAgIGRlbGV0ZSBwYXJhbUtleVt2XVxyXG4gICAga2V5ICs9ICcmJytKU09OLnN0cmluZ2lmeShwYXJhbXNbdl0pXHJcbiAgfSlcclxuXHJcbiAgbGV0IG9sZCA9IF9fY2FjaGVkUmVzdWx0W2tleV1cclxuICBpZighb2xkKSBvbGQgPSBfX2NhY2hlZFJlc3VsdFtrZXldID0ge31cclxuXHJcbiAgcGFyYW1LZXkgPSBKU09OLnN0cmluZ2lmeShwYXJhbUtleSlcclxuICBpZihvbGQucGFyYW1LZXkgIT0gcGFyYW1LZXkpe1xyXG4gICAgb2xkLnBhcmFtS2V5ID0gcGFyYW1LZXlcclxuICAgIG9sZC5yZXN1bHQgPSBmdW5jKHBhcmFtcylcclxuICB9XHJcbiAgcmV0dXJuIG9sZC5yZXN1bHRcclxufVxyXG5mdW5jdGlvbiBsb29wKGNvdW50cywgY2FsbGJhY2spe1xyXG4gIGlmKHR5cGVvZiBjb3VudHMgPT09ICdudW1iZXInKSBjb3VudHMgPSBbY291bnRzXVxyXG4gIGNvbnN0IGNvdW50ZXJzID0gY291bnRzLm1hcCh4PT4wKVxyXG4gIGNvbnN0IHRvcExldmVsID0gY291bnRzLmxlbmd0aCAtIDFcclxuICBjb25zdCByZXQgPSBbXVxyXG5cclxuICBjb25zdCBsb29wUmVjID0gKGxldmVsKT0+e1xyXG5cclxuICAgIGxldCBjb3VudGkgPSBjb3VudHNbbGV2ZWxdXHJcbiAgICBsZXQgc3RhcnRpID0gMCBcclxuICAgIGlmKGNvdW50aSA8IDApe1xyXG4gICAgICBzdGFydGkgPSBNYXRoLmNlaWwoY291bnRpLzIpXHJcbiAgICAgIGNvdW50aSAqPSAtMVxyXG4gICAgICBpZihjb3VudGkgJSAyID09PSAwKSBzdGFydGkgKz0gMC41XHJcbiAgICB9XHJcbiAgICBsZXQgc3RvcGkgPSBzdGFydGkgKyBjb3VudGlcclxuXHJcbiAgICBmb3IobGV0IGk9c3RhcnRpOyBpPHN0b3BpOyBpKz0xKXtcclxuICAgICAgY291bnRlcnNbbGV2ZWxdID0gaVxyXG4gICAgICBpZihsZXZlbCA9PT0gdG9wTGV2ZWwpXHJcbiAgICAgICAgcmV0LnB1c2goY2FsbGJhY2soLi4uY291bnRlcnMsLi4uY291bnRzKSlcclxuICAgICAgZWxzZXtcclxuICAgICAgICBsb29wUmVjKGxldmVsKzEpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxvb3BSZWMoMClcclxuXHJcbiAgcmV0dXJuIHJldFxyXG59XHJcblxyXG5mdW5jdGlvbiBzb3J0U2lkZXMoc2lkZXMpe1xyXG4gIGZ1bmN0aW9uIHN3YXBTaWRlcyhzaWRlcyxpLGope1xyXG4gICAgaWYoaSA9PSBqKSByZXR1cm5cclxuICAgIGxldCB0bXAgPSBzaWRlc1tqXVxyXG4gICAgc2lkZXNbal0gPSBzaWRlc1tpXSBcclxuICAgIHNpZGVzW2ldID0gdG1wXHJcbiAgfVxyXG5cclxuICBjb25zdCBlcUVwc2lsb24gPSAodjEsdjIpPT57XHJcbiAgICBfZXFFcHNpbG9uID0gKGEsYik9PiEoTWF0aC5hYnMoYS1iKT5OdW1iZXIuRVBTSUxPTilcclxuICAgIHJldHVybiBfZXFFcHNpbG9uKHYxWzBdLHYyWzBdKSAmJiBfZXFFcHNpbG9uKHYxWzFdLHYyWzFdKVxyXG4gIH1cclxuXHJcblxyXG4gIGZvcihsZXQgaT0wOyBpPHNpZGVzLmxlbmd0aDsgaSsrKXtcclxuICAgIGxldCBzaWRlMCA9IHNpZGVzW2ldXHJcbiAgICBmb3IobGV0IGo9aSsxOyBqPHNpZGVzLmxlbmd0aDsgaisrKXtcclxuICAgICAgaWYoZXFFcHNpbG9uKHNpZGUwWzBdLHNpZGVzW2pdWzFdKSl7XHJcbiAgICAgICAgc3dhcFNpZGVzKHNpZGVzLCBqLHNpZGVzLmxlbmd0aC0xKVxyXG4gICAgICB9XHJcbiAgICAgIGlmKGVxRXBzaWxvbihzaWRlMFsxXSxzaWRlc1tqXVswXSkpe1xyXG4gICAgICAgIHN3YXBTaWRlcyhzaWRlcywgaSsxLGopXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9ICAgXHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUEsSUFBQUEsbUJBQWtCOzs7QUNOWCxJQUFNLE9BQU8sQ0FBQyxRQUFRLGFBQVc7QUFDdEMsTUFBRyxPQUFPLFdBQVc7QUFBVSxhQUFTLENBQUMsTUFBTTtBQUMvQyxRQUFNLFdBQVcsT0FBTyxJQUFJLE9BQUcsQ0FBQztBQUNoQyxRQUFNLFdBQVcsT0FBTyxTQUFTO0FBQ2pDLFFBQU0sTUFBTSxDQUFDO0FBRWIsUUFBTSxVQUFVLENBQUMsVUFBUTtBQUV2QixRQUFJLFNBQVMsT0FBTyxLQUFLO0FBQ3pCLFFBQUksU0FBUztBQUNiLFFBQUcsU0FBUyxHQUFFO0FBQ1osZUFBUyxLQUFLLEtBQUssU0FBTyxDQUFDO0FBQzNCLGdCQUFVO0FBQ1YsVUFBRyxTQUFTLE1BQU07QUFBRyxrQkFBVTtBQUFBLElBQ2pDO0FBQ0EsUUFBSSxRQUFRLFNBQVM7QUFFckIsYUFBUSxJQUFFLFFBQVEsSUFBRSxPQUFPLEtBQUcsR0FBRTtBQUM5QixlQUFTLEtBQUssSUFBSTtBQUNsQixVQUFHLFVBQVU7QUFDWCxZQUFJLEtBQUssU0FBUyxHQUFHLFVBQVMsR0FBRyxNQUFNLENBQUM7QUFBQSxXQUN0QztBQUNGLGdCQUFRLFFBQU0sQ0FBQztBQUFBLE1BQ2pCO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxVQUFRLENBQUM7QUFFVCxTQUFPO0FBQ1Q7OztBQzlCQSxJQUFBQyxtQkFBa0I7OztBQ0FsQixzQkFBa0I7QUFDbEIsSUFBTSxFQUFDLE9BQU0sSUFBSSxnQkFBQUMsUUFBTTtBQUVoQixTQUFTLFFBQVEsV0FBVyxPQUFNO0FBQ3ZDLFNBQU8sT0FBTyxPQUFPLElBQUksS0FBSyxHQUFFLEdBQUcsS0FBSztBQUMxQztBQXVPTyxTQUFTLE1BQU0sR0FBRTtBQUFDLFNBQU8sSUFBRSxNQUFJLEtBQUs7QUFBRzs7O0FEMU85QyxJQUFNLEVBQUMsUUFBTyxrQkFBa0IsV0FBVyxJQUFJLGlCQUFBQyxRQUFNO0FBQ3JELElBQU0sRUFBQyxXQUFBQyxXQUFVLElBQUksaUJBQUFELFFBQU07QUFrQ3BCLFNBQVMsV0FBVyxTQUFRO0FBQ2pDLE1BQUksRUFBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLGFBQWEsR0FBRyxLQUFJLElBQUk7QUFDcEQsTUFBSSxRQUFRLEVBQUMsR0FBRSxTQUFTLEdBQUUsWUFBWSxHQUFFLE1BQU0sR0FBRSxNQUFNLEdBQUUsTUFBTSxHQUFFLEtBQUk7QUFDcEUsTUFBRyxRQUFRO0FBQU8sWUFBUSxFQUFDLEdBQUcsT0FBTyxHQUFHLFFBQVEsTUFBSztBQUNyRCxNQUFHLFFBQVEsUUFBTztBQUNoQixRQUFJLENBQUMsR0FBRSxHQUFFLENBQUMsSUFBSSxRQUFRO0FBQ3RCLFlBQVEsT0FBTyxDQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sR0FBRyxJQUFJLE1BQU0sSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFFO0FBQUEsRUFDdkY7QUFDQSxVQUFRLFNBQVMsU0FBUyxRQUFRLFNBQVMsS0FBSyxRQUFRLE1BQU0sQ0FBQyxHQUFFLEdBQUUsUUFBUSxVQUFVLENBQUMsQ0FBQztBQUN2RixNQUFJLFFBQVEsT0FBTyxPQUFPO0FBQzFCLE1BQUcsUUFBUSxRQUFRLE9BQU07QUFDdkIsWUFBUSxLQUFLLENBQUMsS0FBSyxNQUFNLElBQUksTUFBTTtBQUNuQyxZQUFRLEtBQUssQ0FBQyxLQUFLLE1BQU0sSUFBSSxNQUFNO0FBQ25DLFlBQVEsS0FBSyxDQUFDLEtBQUssTUFBTSxJQUFJLE1BQU07QUFDbkMsWUFBUSxPQUFPLENBQUMsTUFBTSxNQUFNLElBQUksTUFBTSxLQUFLO0FBQzNDLFlBQVEsT0FBTyxDQUFDLE1BQU0sTUFBTSxJQUFJLE1BQU0sS0FBSztBQUMzQyxZQUFRLE9BQU8sQ0FBQyxNQUFNLE1BQU0sSUFBSSxNQUFNLEtBQUs7QUFDM0MsWUFBUSxTQUFTLE9BQU8sT0FBTyxPQUFPLENBQUM7QUFBQSxFQUN6QztBQUNBLE1BQUcsUUFBUTtBQUFPLFlBQVEsU0FBUyxPQUFPRSxXQUFVLFFBQVEsUUFBTyxHQUFHLFFBQVEsS0FBSyxDQUFDO0FBQ3BGLFNBQU8sY0FBYyxTQUFTLEtBQUssRUFBRSxDQUFDO0FBQ3hDO0FBeU9PLFNBQVMsU0FBUyxRQUFNLEtBQUksT0FBSyxDQUFDLEdBQUUsR0FBRSxDQUFDLEdBQUVDLFVBQU8sQ0FBQyxHQUFFLEdBQUUsQ0FBQyxHQUFFO0FBQzdELE1BQUcsQ0FBQztBQUFPO0FBQ1gsV0FBUSxJQUFFLEdBQUcsSUFBRSxNQUFNLFFBQVEsS0FBSTtBQUMvQixRQUFJLE1BQU0sTUFBTSxDQUFDO0FBQ2pCLFFBQUcsT0FBTztBQUFLLE1BQUFBLFFBQU8sQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFFO0FBQ3BDLFFBQUcsT0FBTztBQUFLLE1BQUFBLFFBQU8sQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFFO0FBQ3BDLFFBQUcsT0FBTztBQUFLLE1BQUFBLFFBQU8sQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFFO0FBQ3BDLFFBQUcsT0FBTztBQUFLLE1BQUFBLFFBQU8sQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFFO0FBQ3BDLFFBQUcsT0FBTztBQUFLLE1BQUFBLFFBQU8sQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFFO0FBQ3BDLFFBQUcsT0FBTztBQUFLLE1BQUFBLFFBQU8sQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFFO0FBQUEsRUFDdEM7QUFDQSxTQUFPQTtBQUNUO0FBRU8sU0FBUyxjQUFjLFlBQVcsT0FBTTtBQUM3QyxNQUFJLE9BQU8sUUFBUSxPQUFLO0FBQ3hCLE1BQUksTUFBTSxDQUFDLEdBQUUsR0FBRSxDQUFDO0FBQ2hCLFdBQVEsSUFBRSxHQUFHLElBQUUsS0FBSyxRQUFRLEtBQUk7QUFDOUIsUUFBSSxNQUFNLEtBQUssQ0FBQztBQUNoQixRQUFHLE9BQU87QUFBSyxZQUFNLENBQUMsS0FBSSxHQUFFLENBQUM7QUFDN0IsUUFBRyxPQUFPO0FBQUssWUFBTSxDQUFDLElBQUcsR0FBRSxDQUFDO0FBQzVCLFFBQUcsT0FBTztBQUFLLFlBQU0sQ0FBQyxLQUFJLEdBQUUsQ0FBQztBQUM3QixRQUFHLE9BQU87QUFBSyxZQUFNLENBQUMsR0FBRSxJQUFHLENBQUM7QUFDNUIsUUFBRyxPQUFPO0FBQUssWUFBTSxDQUFDLEdBQUUsS0FBSSxDQUFDO0FBRTdCLFFBQUcsT0FBTztBQUFLLFVBQUksQ0FBQyxLQUFLO0FBQ3pCLFFBQUcsT0FBTztBQUFLLFVBQUksQ0FBQyxLQUFLO0FBRXpCLFFBQUcsT0FBTztBQUFLLFVBQUksQ0FBQyxLQUFLO0FBQ3pCLFFBQUcsT0FBTztBQUFLLFVBQUksQ0FBQyxLQUFLO0FBRXpCLFFBQUcsT0FBTztBQUFLLFVBQUksQ0FBQyxLQUFLO0FBQ3pCLFFBQUcsT0FBTztBQUFLLFVBQUksQ0FBQyxLQUFLO0FBQUEsRUFDM0I7QUFFQSxVQUFRLENBQUMsUUFBUSxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBRS9CLE1BQUcsUUFBUSxNQUFNLFFBQVEsTUFBTSxRQUFRO0FBQ3JDLFlBQVEsQ0FBQ0MsV0FBVSxDQUFDLFFBQVEsTUFBTSxHQUFHLFFBQVEsTUFBTSxHQUFHLFFBQVEsTUFBTSxDQUFFLEdBQUcsR0FBRyxLQUFLLENBQUM7QUFFcEYsU0FBTztBQUNUOzs7QUZuVUEsSUFBTSxFQUFFLFFBQVEsS0FBSyxJQUFJLGlCQUFBQyxRQUFNO0FBQy9CLElBQU0sRUFBRSxXQUFBQyxXQUFVLElBQUksaUJBQUFELFFBQU07QUFHckIsSUFBTSxPQUFPLENBQUM7QUFBQTtBQUFBLEVBQ25CLE9BQU87QUFBQTtBQUFBLEVBQ1AsT0FBTztBQUFBO0FBQUEsRUFDUCxLQUFLO0FBQUE7QUFBQSxFQUNMLEtBQUs7QUFBQTtBQUNQLE1BQUk7QUFDRixRQUFNLFFBQVEsV0FBVyxFQUFDLE1BQUssQ0FBQyxHQUFFLEdBQUUsRUFBRSxHQUFHLE9BQU0sTUFBSyxDQUFDO0FBQ3JELFFBQU0sUUFBUSxXQUFXLEVBQUMsTUFBSyxDQUFDLEdBQUUsR0FBRSxFQUFFLEdBQUcsT0FBTSxNQUFLLENBQUM7QUFDckQsUUFBTSxRQUFRLFdBQVcsRUFBQyxNQUFLLENBQUMsR0FBRSxHQUFFLEVBQUUsR0FBRyxPQUFNLE1BQUssQ0FBQztBQUVyRCxNQUFJLE1BQU0sQ0FBQztBQUNYLE1BQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFLLEdBQUUsT0FBSyxDQUFDLEdBQUUsQ0FBQyxHQUFFLE1BQUlDLFdBQVUsQ0FBQyxJQUFFLElBQUcsSUFBRSxJQUFHLENBQUMsR0FBRSxLQUFLLENBQUMsQ0FBQztBQUN2RSxNQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBSyxHQUFFLElBQUksR0FBRSxDQUFDLEdBQUUsTUFBSUEsV0FBVSxDQUFDLElBQUUsSUFBRyxJQUFFLEtBQUcsR0FBRSxDQUFDLEdBQUUsS0FBSyxDQUFDLENBQUM7QUFDdkUsTUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQUssT0FBSyxDQUFDLEdBQUUsQ0FBQyxHQUFFLE1BQUlBLFdBQVUsQ0FBQyxJQUFFLEtBQUcsR0FBRSxJQUFFLElBQUcsQ0FBQyxHQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3ZFLE1BQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFLLE9BQUssQ0FBQyxHQUFFLENBQUMsR0FBRSxNQUFJLFdBQVcsRUFBQyxNQUFLLENBQUMsR0FBRSxHQUFFLENBQUMsR0FBRyxJQUFHLElBQUUsSUFBSSxJQUFHLElBQUUsS0FBRyxHQUFHLE9BQU0sTUFBSyxDQUFDLENBQUMsQ0FBQztBQUNsRyxNQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBSyxHQUFFLElBQUksR0FBRSxDQUFDLEdBQUUsTUFBSSxXQUFXLEVBQUMsTUFBSyxDQUFDLEdBQUUsR0FBRSxDQUFDLEdBQUcsSUFBRyxJQUFFLEtBQUcsR0FBRyxJQUFHLElBQUUsSUFBSSxPQUFNLE1BQUssQ0FBQyxDQUFDLENBQUM7QUFFbEcsU0FBTztBQUVUOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfbW9kZWxpbmciLCAiaW1wb3J0X21vZGVsaW5nIiwgImpzY2FkIiwgImpzY2FkIiwgInRyYW5zbGF0ZSIsICJ0cmFuc2xhdGUiLCAiY2VudGVyIiwgInRyYW5zbGF0ZSIsICJqc2NhZCIsICJ0cmFuc2xhdGUiXQp9Cg==
