{
  "version": 3,
  "sources": ["../../../../node_modules/json5/dist/index.js", "../../../../packages/format-jscad/index.js", "../../../../packages/postmessage/index.js", "../../../../packages/fs-provider/src/FileEntry.js", "../../../../packages/fs-provider/src/FileReader.js", "../../../../packages/fs-provider/fs-provider.js", "../../../../packages/require/src/resolveUrl.js", "../../../../packages/require/src/require.js", "../../../../packages/require/src/readFileWeb.js", "../../../../packages/worker/src/exportStlText.js", "../../../../packages/worker/src/getParameterDefinitionsFromSource.js", "../../../../packages/worker/src/extractDefaults.js", "../../../../packages/worker/worker.js", "../../src_bundle/bundle.worker.js"],
  "sourcesContent": ["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.JSON5 = factory());\n}(this, (function () { 'use strict';\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar _global = createCommonjsModule(function (module) {\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self\n\t  // eslint-disable-next-line no-new-func\n\t  : Function('return this')();\n\tif (typeof __g == 'number') { __g = global; } // eslint-disable-line no-undef\n\t});\n\n\tvar _core = createCommonjsModule(function (module) {\n\tvar core = module.exports = { version: '2.6.5' };\n\tif (typeof __e == 'number') { __e = core; } // eslint-disable-line no-undef\n\t});\n\tvar _core_1 = _core.version;\n\n\tvar _isObject = function (it) {\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n\tvar _anObject = function (it) {\n\t  if (!_isObject(it)) { throw TypeError(it + ' is not an object!'); }\n\t  return it;\n\t};\n\n\tvar _fails = function (exec) {\n\t  try {\n\t    return !!exec();\n\t  } catch (e) {\n\t    return true;\n\t  }\n\t};\n\n\t// Thank's IE8 for his funny defineProperty\n\tvar _descriptors = !_fails(function () {\n\t  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\tvar document = _global.document;\n\t// typeof document.createElement is 'object' in old IE\n\tvar is = _isObject(document) && _isObject(document.createElement);\n\tvar _domCreate = function (it) {\n\t  return is ? document.createElement(it) : {};\n\t};\n\n\tvar _ie8DomDefine = !_descriptors && !_fails(function () {\n\t  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\t// 7.1.1 ToPrimitive(input [, PreferredType])\n\n\t// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n\t// and the second argument - flag - preferred type is a string\n\tvar _toPrimitive = function (it, S) {\n\t  if (!_isObject(it)) { return it; }\n\t  var fn, val;\n\t  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  throw TypeError(\"Can't convert object to primitive value\");\n\t};\n\n\tvar dP = Object.defineProperty;\n\n\tvar f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n\t  _anObject(O);\n\t  P = _toPrimitive(P, true);\n\t  _anObject(Attributes);\n\t  if (_ie8DomDefine) { try {\n\t    return dP(O, P, Attributes);\n\t  } catch (e) { /* empty */ } }\n\t  if ('get' in Attributes || 'set' in Attributes) { throw TypeError('Accessors not supported!'); }\n\t  if ('value' in Attributes) { O[P] = Attributes.value; }\n\t  return O;\n\t};\n\n\tvar _objectDp = {\n\t\tf: f\n\t};\n\n\tvar _propertyDesc = function (bitmap, value) {\n\t  return {\n\t    enumerable: !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable: !(bitmap & 4),\n\t    value: value\n\t  };\n\t};\n\n\tvar _hide = _descriptors ? function (object, key, value) {\n\t  return _objectDp.f(object, key, _propertyDesc(1, value));\n\t} : function (object, key, value) {\n\t  object[key] = value;\n\t  return object;\n\t};\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tvar _has = function (it, key) {\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n\tvar id = 0;\n\tvar px = Math.random();\n\tvar _uid = function (key) {\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n\tvar _library = false;\n\n\tvar _shared = createCommonjsModule(function (module) {\n\tvar SHARED = '__core-js_shared__';\n\tvar store = _global[SHARED] || (_global[SHARED] = {});\n\n\t(module.exports = function (key, value) {\n\t  return store[key] || (store[key] = value !== undefined ? value : {});\n\t})('versions', []).push({\n\t  version: _core.version,\n\t  mode: _library ? 'pure' : 'global',\n\t  copyright: '\u00A9 2019 Denis Pushkarev (zloirock.ru)'\n\t});\n\t});\n\n\tvar _functionToString = _shared('native-function-to-string', Function.toString);\n\n\tvar _redefine = createCommonjsModule(function (module) {\n\tvar SRC = _uid('src');\n\n\tvar TO_STRING = 'toString';\n\tvar TPL = ('' + _functionToString).split(TO_STRING);\n\n\t_core.inspectSource = function (it) {\n\t  return _functionToString.call(it);\n\t};\n\n\t(module.exports = function (O, key, val, safe) {\n\t  var isFunction = typeof val == 'function';\n\t  if (isFunction) { _has(val, 'name') || _hide(val, 'name', key); }\n\t  if (O[key] === val) { return; }\n\t  if (isFunction) { _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); }\n\t  if (O === _global) {\n\t    O[key] = val;\n\t  } else if (!safe) {\n\t    delete O[key];\n\t    _hide(O, key, val);\n\t  } else if (O[key]) {\n\t    O[key] = val;\n\t  } else {\n\t    _hide(O, key, val);\n\t  }\n\t// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n\t})(Function.prototype, TO_STRING, function toString() {\n\t  return typeof this == 'function' && this[SRC] || _functionToString.call(this);\n\t});\n\t});\n\n\tvar _aFunction = function (it) {\n\t  if (typeof it != 'function') { throw TypeError(it + ' is not a function!'); }\n\t  return it;\n\t};\n\n\t// optional / simple context binding\n\n\tvar _ctx = function (fn, that, length) {\n\t  _aFunction(fn);\n\t  if (that === undefined) { return fn; }\n\t  switch (length) {\n\t    case 1: return function (a) {\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function (a, b) {\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function (a, b, c) {\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function (/* ...args */) {\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n\tvar PROTOTYPE = 'prototype';\n\n\tvar $export = function (type, name, source) {\n\t  var IS_FORCED = type & $export.F;\n\t  var IS_GLOBAL = type & $export.G;\n\t  var IS_STATIC = type & $export.S;\n\t  var IS_PROTO = type & $export.P;\n\t  var IS_BIND = type & $export.B;\n\t  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n\t  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n\t  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n\t  var key, own, out, exp;\n\t  if (IS_GLOBAL) { source = name; }\n\t  for (key in source) {\n\t    // contains in native\n\t    own = !IS_FORCED && target && target[key] !== undefined;\n\t    // export native or passed\n\t    out = (own ? target : source)[key];\n\t    // bind timers to global for call from export context\n\t    exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n\t    // extend global\n\t    if (target) { _redefine(target, key, out, type & $export.U); }\n\t    // export\n\t    if (exports[key] != out) { _hide(exports, key, exp); }\n\t    if (IS_PROTO && expProto[key] != out) { expProto[key] = out; }\n\t  }\n\t};\n\t_global.core = _core;\n\t// type bitmap\n\t$export.F = 1;   // forced\n\t$export.G = 2;   // global\n\t$export.S = 4;   // static\n\t$export.P = 8;   // proto\n\t$export.B = 16;  // bind\n\t$export.W = 32;  // wrap\n\t$export.U = 64;  // safe\n\t$export.R = 128; // real proto method for `library`\n\tvar _export = $export;\n\n\t// 7.1.4 ToInteger\n\tvar ceil = Math.ceil;\n\tvar floor = Math.floor;\n\tvar _toInteger = function (it) {\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tvar _defined = function (it) {\n\t  if (it == undefined) { throw TypeError(\"Can't call method on  \" + it); }\n\t  return it;\n\t};\n\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tvar _stringAt = function (TO_STRING) {\n\t  return function (that, pos) {\n\t    var s = String(_defined(that));\n\t    var i = _toInteger(pos);\n\t    var l = s.length;\n\t    var a, b;\n\t    if (i < 0 || i >= l) { return TO_STRING ? '' : undefined; }\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t      ? TO_STRING ? s.charAt(i) : a\n\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n\tvar $at = _stringAt(false);\n\t_export(_export.P, 'String', {\n\t  // 21.1.3.3 String.prototype.codePointAt(pos)\n\t  codePointAt: function codePointAt(pos) {\n\t    return $at(this, pos);\n\t  }\n\t});\n\n\tvar codePointAt = _core.String.codePointAt;\n\n\tvar max = Math.max;\n\tvar min = Math.min;\n\tvar _toAbsoluteIndex = function (index, length) {\n\t  index = _toInteger(index);\n\t  return index < 0 ? max(index + length, 0) : min(index, length);\n\t};\n\n\tvar fromCharCode = String.fromCharCode;\n\tvar $fromCodePoint = String.fromCodePoint;\n\n\t// length should be 1, old FF problem\n\t_export(_export.S + _export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n\t  // 21.1.2.2 String.fromCodePoint(...codePoints)\n\t  fromCodePoint: function fromCodePoint(x) {\n\t    var arguments$1 = arguments;\n\t // eslint-disable-line no-unused-vars\n\t    var res = [];\n\t    var aLen = arguments.length;\n\t    var i = 0;\n\t    var code;\n\t    while (aLen > i) {\n\t      code = +arguments$1[i++];\n\t      if (_toAbsoluteIndex(code, 0x10ffff) !== code) { throw RangeError(code + ' is not a valid code point'); }\n\t      res.push(code < 0x10000\n\t        ? fromCharCode(code)\n\t        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n\t      );\n\t    } return res.join('');\n\t  }\n\t});\n\n\tvar fromCodePoint = _core.String.fromCodePoint;\n\n\t// This is a generated file. Do not edit.\n\tvar Space_Separator = /[\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\n\tvar ID_Start = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]/;\n\tvar ID_Continue = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09FC\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9-\\u0AFF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D00-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF9\\u1D00-\\u1DF9\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDE00-\\uDE3E\\uDE47\\uDE50-\\uDE83\\uDE86-\\uDE99\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD47\\uDD50-\\uDD59]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/;\n\n\tvar unicode = {\n\t\tSpace_Separator: Space_Separator,\n\t\tID_Start: ID_Start,\n\t\tID_Continue: ID_Continue\n\t};\n\n\tvar util = {\n\t    isSpaceSeparator: function isSpaceSeparator (c) {\n\t        return typeof c === 'string' && unicode.Space_Separator.test(c)\n\t    },\n\n\t    isIdStartChar: function isIdStartChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c === '$') || (c === '_') ||\n\t        unicode.ID_Start.test(c)\n\t        )\n\t    },\n\n\t    isIdContinueChar: function isIdContinueChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c >= '0' && c <= '9') ||\n\t        (c === '$') || (c === '_') ||\n\t        (c === '\\u200C') || (c === '\\u200D') ||\n\t        unicode.ID_Continue.test(c)\n\t        )\n\t    },\n\n\t    isDigit: function isDigit (c) {\n\t        return typeof c === 'string' && /[0-9]/.test(c)\n\t    },\n\n\t    isHexDigit: function isHexDigit (c) {\n\t        return typeof c === 'string' && /[0-9A-Fa-f]/.test(c)\n\t    },\n\t};\n\n\tvar source;\n\tvar parseState;\n\tvar stack;\n\tvar pos;\n\tvar line;\n\tvar column;\n\tvar token;\n\tvar key;\n\tvar root;\n\n\tvar parse = function parse (text, reviver) {\n\t    source = String(text);\n\t    parseState = 'start';\n\t    stack = [];\n\t    pos = 0;\n\t    line = 1;\n\t    column = 0;\n\t    token = undefined;\n\t    key = undefined;\n\t    root = undefined;\n\n\t    do {\n\t        token = lex();\n\n\t        // This code is unreachable.\n\t        // if (!parseStates[parseState]) {\n\t        //     throw invalidParseState()\n\t        // }\n\n\t        parseStates[parseState]();\n\t    } while (token.type !== 'eof')\n\n\t    if (typeof reviver === 'function') {\n\t        return internalize({'': root}, '', reviver)\n\t    }\n\n\t    return root\n\t};\n\n\tfunction internalize (holder, name, reviver) {\n\t    var value = holder[name];\n\t    if (value != null && typeof value === 'object') {\n\t        if (Array.isArray(value)) {\n\t            for (var i = 0; i < value.length; i++) {\n\t                var key = String(i);\n\t                var replacement = internalize(value, key, reviver);\n\t                if (replacement === undefined) {\n\t                    delete value[key];\n\t                } else {\n\t                    Object.defineProperty(value, key, {\n\t                        value: replacement,\n\t                        writable: true,\n\t                        enumerable: true,\n\t                        configurable: true,\n\t                    });\n\t                }\n\t            }\n\t        } else {\n\t            for (var key$1 in value) {\n\t                var replacement$1 = internalize(value, key$1, reviver);\n\t                if (replacement$1 === undefined) {\n\t                    delete value[key$1];\n\t                } else {\n\t                    Object.defineProperty(value, key$1, {\n\t                        value: replacement$1,\n\t                        writable: true,\n\t                        enumerable: true,\n\t                        configurable: true,\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    }\n\n\t    return reviver.call(holder, name, value)\n\t}\n\n\tvar lexState;\n\tvar buffer;\n\tvar doubleQuote;\n\tvar sign;\n\tvar c;\n\n\tfunction lex () {\n\t    lexState = 'default';\n\t    buffer = '';\n\t    doubleQuote = false;\n\t    sign = 1;\n\n\t    for (;;) {\n\t        c = peek();\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[lexState]) {\n\t        //     throw invalidLexState(lexState)\n\t        // }\n\n\t        var token = lexStates[lexState]();\n\t        if (token) {\n\t            return token\n\t        }\n\t    }\n\t}\n\n\tfunction peek () {\n\t    if (source[pos]) {\n\t        return String.fromCodePoint(source.codePointAt(pos))\n\t    }\n\t}\n\n\tfunction read () {\n\t    var c = peek();\n\n\t    if (c === '\\n') {\n\t        line++;\n\t        column = 0;\n\t    } else if (c) {\n\t        column += c.length;\n\t    } else {\n\t        column++;\n\t    }\n\n\t    if (c) {\n\t        pos += c.length;\n\t    }\n\n\t    return c\n\t}\n\n\tvar lexStates = {\n\t    default: function default$1 () {\n\t        switch (c) {\n\t        case '\\t':\n\t        case '\\v':\n\t        case '\\f':\n\t        case ' ':\n\t        case '\\u00A0':\n\t        case '\\uFEFF':\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'comment';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        if (util.isSpaceSeparator(c)) {\n\t            read();\n\t            return\n\t        }\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[parseState]) {\n\t        //     throw invalidLexState(parseState)\n\t        // }\n\n\t        return lexStates[parseState]()\n\t    },\n\n\t    comment: function comment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineComment';\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'singleLineComment';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    multiLineComment: function multiLineComment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineCommentAsterisk';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    },\n\n\t    multiLineCommentAsterisk: function multiLineCommentAsterisk () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        lexState = 'multiLineComment';\n\t    },\n\n\t    singleLineComment: function singleLineComment () {\n\t        switch (c) {\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        read();\n\t    },\n\n\t    value: function value () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        case 'n':\n\t            read();\n\t            literal('ull');\n\t            return newToken('null', null)\n\n\t        case 't':\n\t            read();\n\t            literal('rue');\n\t            return newToken('boolean', true)\n\n\t        case 'f':\n\t            read();\n\t            literal('alse');\n\t            return newToken('boolean', false)\n\n\t        case '-':\n\t        case '+':\n\t            if (read() === '-') {\n\t                sign = -1;\n\t            }\n\n\t            lexState = 'sign';\n\t            return\n\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            buffer = '';\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    identifierNameStartEscape: function identifierNameStartEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t            break\n\n\t        default:\n\t            if (!util.isIdStartChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    identifierName: function identifierName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            buffer += read();\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameEscape';\n\t            return\n\t        }\n\n\t        if (util.isIdContinueChar(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('identifier', buffer)\n\t    },\n\n\t    identifierNameEscape: function identifierNameEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            break\n\n\t        default:\n\t            if (!util.isIdContinueChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    sign: function sign$1 () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', sign * Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    zero: function zero () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\n\t        case 'x':\n\t        case 'X':\n\t            buffer += read();\n\t            lexState = 'hexadecimal';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * 0)\n\t    },\n\n\t    decimalInteger: function decimalInteger () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalPointLeading: function decimalPointLeading () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalPoint: function decimalPoint () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalFraction: function decimalFraction () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalExponent: function decimalExponent () {\n\t        switch (c) {\n\t        case '+':\n\t        case '-':\n\t            buffer += read();\n\t            lexState = 'decimalExponentSign';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentSign: function decimalExponentSign () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentInteger: function decimalExponentInteger () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    hexadecimal: function hexadecimal () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'hexadecimalInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    hexadecimalInteger: function hexadecimalInteger () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    string: function string () {\n\t        switch (c) {\n\t        case '\\\\':\n\t            read();\n\t            buffer += escape();\n\t            return\n\n\t        case '\"':\n\t            if (doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case \"'\":\n\t            if (!doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case '\\n':\n\t        case '\\r':\n\t            throw invalidChar(read())\n\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            separatorChar(c);\n\t            break\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    },\n\n\t    start: function start () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        // This code is unreachable since the default lexState handles eof.\n\t        // case undefined:\n\t        //     return newToken('eof')\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t            buffer = read();\n\t            lexState = 'identifierName';\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameStartEscape';\n\t            return\n\n\t        case '}':\n\t            return newToken('punctuator', read())\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        if (util.isIdStartChar(c)) {\n\t            buffer += read();\n\t            lexState = 'identifierName';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        if (c === ':') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        lexState = 'value';\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case '}':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (c === ']') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case ']':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the default lexState.\n\t        // if (c === undefined) {\n\t        //     read()\n\t        //     return newToken('eof')\n\t        // }\n\n\t        throw invalidChar(read())\n\t    },\n\t};\n\n\tfunction newToken (type, value) {\n\t    return {\n\t        type: type,\n\t        value: value,\n\t        line: line,\n\t        column: column,\n\t    }\n\t}\n\n\tfunction literal (s) {\n\t    for (var i = 0, list = s; i < list.length; i += 1) {\n\t        var c = list[i];\n\n\t        var p = peek();\n\n\t        if (p !== c) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    }\n\t}\n\n\tfunction escape () {\n\t    var c = peek();\n\t    switch (c) {\n\t    case 'b':\n\t        read();\n\t        return '\\b'\n\n\t    case 'f':\n\t        read();\n\t        return '\\f'\n\n\t    case 'n':\n\t        read();\n\t        return '\\n'\n\n\t    case 'r':\n\t        read();\n\t        return '\\r'\n\n\t    case 't':\n\t        read();\n\t        return '\\t'\n\n\t    case 'v':\n\t        read();\n\t        return '\\v'\n\n\t    case '0':\n\t        read();\n\t        if (util.isDigit(peek())) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        return '\\0'\n\n\t    case 'x':\n\t        read();\n\t        return hexEscape()\n\n\t    case 'u':\n\t        read();\n\t        return unicodeEscape()\n\n\t    case '\\n':\n\t    case '\\u2028':\n\t    case '\\u2029':\n\t        read();\n\t        return ''\n\n\t    case '\\r':\n\t        read();\n\t        if (peek() === '\\n') {\n\t            read();\n\t        }\n\n\t        return ''\n\n\t    case '1':\n\t    case '2':\n\t    case '3':\n\t    case '4':\n\t    case '5':\n\t    case '6':\n\t    case '7':\n\t    case '8':\n\t    case '9':\n\t        throw invalidChar(read())\n\n\t    case undefined:\n\t        throw invalidChar(read())\n\t    }\n\n\t    return read()\n\t}\n\n\tfunction hexEscape () {\n\t    var buffer = '';\n\t    var c = peek();\n\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    c = peek();\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tfunction unicodeEscape () {\n\t    var buffer = '';\n\t    var count = 4;\n\n\t    while (count-- > 0) {\n\t        var c = peek();\n\t        if (!util.isHexDigit(c)) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    }\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tvar parseStates = {\n\t    start: function start () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (token.type) {\n\t        case 'identifier':\n\t        case 'string':\n\t            key = token.value;\n\t            parseState = 'afterPropertyName';\n\t            return\n\n\t        case 'punctuator':\n\t            // This code is unreachable since it's handled by the lexState.\n\t            // if (token.value !== '}') {\n\t            //     throw invalidToken()\n\t            // }\n\n\t            pop();\n\t            return\n\n\t        case 'eof':\n\t            throw invalidEOF()\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator' || token.value !== ':') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        parseState = 'beforePropertyValue';\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        if (token.type === 'punctuator' && token.value === ']') {\n\t            pop();\n\t            return\n\t        }\n\n\t        push();\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforePropertyName';\n\t            return\n\n\t        case '}':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforeArrayValue';\n\t            return\n\n\t        case ']':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'eof') {\n\t        //     throw invalidToken()\n\t        // }\n\t    },\n\t};\n\n\tfunction push () {\n\t    var value;\n\n\t    switch (token.type) {\n\t    case 'punctuator':\n\t        switch (token.value) {\n\t        case '{':\n\t            value = {};\n\t            break\n\n\t        case '[':\n\t            value = [];\n\t            break\n\t        }\n\n\t        break\n\n\t    case 'null':\n\t    case 'boolean':\n\t    case 'numeric':\n\t    case 'string':\n\t        value = token.value;\n\t        break\n\n\t    // This code is unreachable.\n\t    // default:\n\t    //     throw invalidToken()\n\t    }\n\n\t    if (root === undefined) {\n\t        root = value;\n\t    } else {\n\t        var parent = stack[stack.length - 1];\n\t        if (Array.isArray(parent)) {\n\t            parent.push(value);\n\t        } else {\n\t            Object.defineProperty(parent, key, {\n\t                value: value,\n\t                writable: true,\n\t                enumerable: true,\n\t                configurable: true,\n\t            });\n\t        }\n\t    }\n\n\t    if (value !== null && typeof value === 'object') {\n\t        stack.push(value);\n\n\t        if (Array.isArray(value)) {\n\t            parseState = 'beforeArrayValue';\n\t        } else {\n\t            parseState = 'beforePropertyName';\n\t        }\n\t    } else {\n\t        var current = stack[stack.length - 1];\n\t        if (current == null) {\n\t            parseState = 'end';\n\t        } else if (Array.isArray(current)) {\n\t            parseState = 'afterArrayValue';\n\t        } else {\n\t            parseState = 'afterPropertyValue';\n\t        }\n\t    }\n\t}\n\n\tfunction pop () {\n\t    stack.pop();\n\n\t    var current = stack[stack.length - 1];\n\t    if (current == null) {\n\t        parseState = 'end';\n\t    } else if (Array.isArray(current)) {\n\t        parseState = 'afterArrayValue';\n\t    } else {\n\t        parseState = 'afterPropertyValue';\n\t    }\n\t}\n\n\t// This code is unreachable.\n\t// function invalidParseState () {\n\t//     return new Error(`JSON5: invalid parse state '${parseState}'`)\n\t// }\n\n\t// This code is unreachable.\n\t// function invalidLexState (state) {\n\t//     return new Error(`JSON5: invalid lex state '${state}'`)\n\t// }\n\n\tfunction invalidChar (c) {\n\t    if (c === undefined) {\n\t        return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t    }\n\n\t    return syntaxError((\"JSON5: invalid character '\" + (formatChar(c)) + \"' at \" + line + \":\" + column))\n\t}\n\n\tfunction invalidEOF () {\n\t    return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t}\n\n\t// This code is unreachable.\n\t// function invalidToken () {\n\t//     if (token.type === 'eof') {\n\t//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n\t//     }\n\n\t//     const c = String.fromCodePoint(token.value.codePointAt(0))\n\t//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n\t// }\n\n\tfunction invalidIdentifier () {\n\t    column -= 5;\n\t    return syntaxError((\"JSON5: invalid identifier character at \" + line + \":\" + column))\n\t}\n\n\tfunction separatorChar (c) {\n\t    console.warn((\"JSON5: '\" + (formatChar(c)) + \"' in strings is not valid ECMAScript; consider escaping\"));\n\t}\n\n\tfunction formatChar (c) {\n\t    var replacements = {\n\t        \"'\": \"\\\\'\",\n\t        '\"': '\\\\\"',\n\t        '\\\\': '\\\\\\\\',\n\t        '\\b': '\\\\b',\n\t        '\\f': '\\\\f',\n\t        '\\n': '\\\\n',\n\t        '\\r': '\\\\r',\n\t        '\\t': '\\\\t',\n\t        '\\v': '\\\\v',\n\t        '\\0': '\\\\0',\n\t        '\\u2028': '\\\\u2028',\n\t        '\\u2029': '\\\\u2029',\n\t    };\n\n\t    if (replacements[c]) {\n\t        return replacements[c]\n\t    }\n\n\t    if (c < ' ') {\n\t        var hexString = c.charCodeAt(0).toString(16);\n\t        return '\\\\x' + ('00' + hexString).substring(hexString.length)\n\t    }\n\n\t    return c\n\t}\n\n\tfunction syntaxError (message) {\n\t    var err = new SyntaxError(message);\n\t    err.lineNumber = line;\n\t    err.columnNumber = column;\n\t    return err\n\t}\n\n\tvar stringify = function stringify (value, replacer, space) {\n\t    var stack = [];\n\t    var indent = '';\n\t    var propertyList;\n\t    var replacerFunc;\n\t    var gap = '';\n\t    var quote;\n\n\t    if (\n\t        replacer != null &&\n\t        typeof replacer === 'object' &&\n\t        !Array.isArray(replacer)\n\t    ) {\n\t        space = replacer.space;\n\t        quote = replacer.quote;\n\t        replacer = replacer.replacer;\n\t    }\n\n\t    if (typeof replacer === 'function') {\n\t        replacerFunc = replacer;\n\t    } else if (Array.isArray(replacer)) {\n\t        propertyList = [];\n\t        for (var i = 0, list = replacer; i < list.length; i += 1) {\n\t            var v = list[i];\n\n\t            var item = (void 0);\n\n\t            if (typeof v === 'string') {\n\t                item = v;\n\t            } else if (\n\t                typeof v === 'number' ||\n\t                v instanceof String ||\n\t                v instanceof Number\n\t            ) {\n\t                item = String(v);\n\t            }\n\n\t            if (item !== undefined && propertyList.indexOf(item) < 0) {\n\t                propertyList.push(item);\n\t            }\n\t        }\n\t    }\n\n\t    if (space instanceof Number) {\n\t        space = Number(space);\n\t    } else if (space instanceof String) {\n\t        space = String(space);\n\t    }\n\n\t    if (typeof space === 'number') {\n\t        if (space > 0) {\n\t            space = Math.min(10, Math.floor(space));\n\t            gap = '          '.substr(0, space);\n\t        }\n\t    } else if (typeof space === 'string') {\n\t        gap = space.substr(0, 10);\n\t    }\n\n\t    return serializeProperty('', {'': value})\n\n\t    function serializeProperty (key, holder) {\n\t        var value = holder[key];\n\t        if (value != null) {\n\t            if (typeof value.toJSON5 === 'function') {\n\t                value = value.toJSON5(key);\n\t            } else if (typeof value.toJSON === 'function') {\n\t                value = value.toJSON(key);\n\t            }\n\t        }\n\n\t        if (replacerFunc) {\n\t            value = replacerFunc.call(holder, key, value);\n\t        }\n\n\t        if (value instanceof Number) {\n\t            value = Number(value);\n\t        } else if (value instanceof String) {\n\t            value = String(value);\n\t        } else if (value instanceof Boolean) {\n\t            value = value.valueOf();\n\t        }\n\n\t        switch (value) {\n\t        case null: return 'null'\n\t        case true: return 'true'\n\t        case false: return 'false'\n\t        }\n\n\t        if (typeof value === 'string') {\n\t            return quoteString(value, false)\n\t        }\n\n\t        if (typeof value === 'number') {\n\t            return String(value)\n\t        }\n\n\t        if (typeof value === 'object') {\n\t            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)\n\t        }\n\n\t        return undefined\n\t    }\n\n\t    function quoteString (value) {\n\t        var quotes = {\n\t            \"'\": 0.1,\n\t            '\"': 0.2,\n\t        };\n\n\t        var replacements = {\n\t            \"'\": \"\\\\'\",\n\t            '\"': '\\\\\"',\n\t            '\\\\': '\\\\\\\\',\n\t            '\\b': '\\\\b',\n\t            '\\f': '\\\\f',\n\t            '\\n': '\\\\n',\n\t            '\\r': '\\\\r',\n\t            '\\t': '\\\\t',\n\t            '\\v': '\\\\v',\n\t            '\\0': '\\\\0',\n\t            '\\u2028': '\\\\u2028',\n\t            '\\u2029': '\\\\u2029',\n\t        };\n\n\t        var product = '';\n\n\t        for (var i = 0; i < value.length; i++) {\n\t            var c = value[i];\n\t            switch (c) {\n\t            case \"'\":\n\t            case '\"':\n\t                quotes[c]++;\n\t                product += c;\n\t                continue\n\n\t            case '\\0':\n\t                if (util.isDigit(value[i + 1])) {\n\t                    product += '\\\\x00';\n\t                    continue\n\t                }\n\t            }\n\n\t            if (replacements[c]) {\n\t                product += replacements[c];\n\t                continue\n\t            }\n\n\t            if (c < ' ') {\n\t                var hexString = c.charCodeAt(0).toString(16);\n\t                product += '\\\\x' + ('00' + hexString).substring(hexString.length);\n\t                continue\n\t            }\n\n\t            product += c;\n\t        }\n\n\t        var quoteChar = quote || Object.keys(quotes).reduce(function (a, b) { return (quotes[a] < quotes[b]) ? a : b; });\n\n\t        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);\n\n\t        return quoteChar + product + quoteChar\n\t    }\n\n\t    function serializeObject (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var keys = propertyList || Object.keys(value);\n\t        var partial = [];\n\t        for (var i = 0, list = keys; i < list.length; i += 1) {\n\t            var key = list[i];\n\n\t            var propertyString = serializeProperty(key, value);\n\t            if (propertyString !== undefined) {\n\t                var member = serializeKey(key) + ':';\n\t                if (gap !== '') {\n\t                    member += ' ';\n\t                }\n\t                member += propertyString;\n\t                partial.push(member);\n\t            }\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '{}';\n\t        } else {\n\t            var properties;\n\t            if (gap === '') {\n\t                properties = partial.join(',');\n\t                final = '{' + properties + '}';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                properties = partial.join(separator);\n\t                final = '{\\n' + indent + properties + ',\\n' + stepback + '}';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\n\t    function serializeKey (key) {\n\t        if (key.length === 0) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        var firstChar = String.fromCodePoint(key.codePointAt(0));\n\t        if (!util.isIdStartChar(firstChar)) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        for (var i = firstChar.length; i < key.length; i++) {\n\t            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {\n\t                return quoteString(key, true)\n\t            }\n\t        }\n\n\t        return key\n\t    }\n\n\t    function serializeArray (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var partial = [];\n\t        for (var i = 0; i < value.length; i++) {\n\t            var propertyString = serializeProperty(String(i), value);\n\t            partial.push((propertyString !== undefined) ? propertyString : 'null');\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '[]';\n\t        } else {\n\t            if (gap === '') {\n\t                var properties = partial.join(',');\n\t                final = '[' + properties + ']';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                var properties$1 = partial.join(separator);\n\t                final = '[\\n' + indent + properties$1 + ',\\n' + stepback + ']';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\t};\n\n\tvar JSON5 = {\n\t    parse: parse,\n\t    stringify: stringify,\n\t};\n\n\tvar lib = JSON5;\n\n\tvar es5 = lib;\n\n\treturn es5;\n\n})));\n", "const setPoints = (points, p, i) => {\r\n  points[i++] = p[0]\r\n  points[i++] = p[1]\r\n  points[i++] = p[2] || 0\r\n}\r\n\r\nfunction CSG2Vertices (csg) {\r\n  let vLen = 0; let iLen = 0\r\n  for (const poly of csg.polygons) {\r\n    const len = poly.vertices.length\r\n    vLen += len * 3\r\n    iLen += 3 * (len - 2)\r\n  }\r\n  const vertices = new Float32Array(vLen)\r\n  const normals = new Float32Array(vLen)\r\n  const indices = vLen > 65535 ? new Uint32Array(iLen) : new Uint16Array(iLen)\r\n\r\n  let vertOffset = 0\r\n  let indOffset = 0\r\n  let posOffset = 0\r\n  let first = 0\r\n  for (const poly of csg.polygons) {\r\n    const arr = poly.vertices\r\n    const normal = calculateNormal(arr)\r\n    const len = arr.length\r\n    first = posOffset\r\n    vertices.set(arr[0], vertOffset)\r\n    normals.set(normal, vertOffset)\r\n    vertOffset += 3\r\n    vertices.set(arr[1], vertOffset)\r\n    normals.set(normal, vertOffset)\r\n    vertOffset += 3\r\n    posOffset += 2\r\n    for (let i = 2; i < len; i++) {\r\n      vertices.set(arr[i], vertOffset)\r\n      normals.set(normal, vertOffset)\r\n\r\n      indices[indOffset++] = first\r\n      indices[indOffset++] = first + i -1\r\n      indices[indOffset++] = first + i\r\n      vertOffset += 3\r\n      posOffset += 1\r\n    }\r\n  }\r\n  return { type: 'mesh', vertices, indices, normals }\r\n}\r\n\r\nconst calculateNormal = (vertices) => {\r\n  const v0 = vertices[0]\r\n  const v1 = vertices[1]\r\n  const v2 = vertices[2]\r\n\r\n  const Ax = v1[0] - v0[0]\r\n  const Ay = v1[1] - v0[1]\r\n  const Az = v1[2] - v0[2]\r\n\r\n  const Bx = v2[0] - v0[0]\r\n  const By = v2[1] - v0[1]\r\n  const Bz = v2[2] - v0[2]\r\n\r\n  const Nx = Ay * Bz - Az * By\r\n  const Ny = Az * Bx - Ax * Bz\r\n  const Nz = Ax * By - Ay * Bx\r\n\r\n  const len = Math.hypot(Nx, Ny, Nz)\r\n  return [Nx / len, Ny / len, Nz / len]\r\n}\r\n\r\nfunction CSG2LineVertices (csg) {\r\n  let vLen = csg.points.length * 3\r\n  if (csg.isClosed) vLen += 3\r\n\r\n  const vertices = new Float32Array(vLen)\r\n\r\n  csg.points.forEach((p, idx) => setPoints(vertices, p, idx * 3))\r\n\r\n  if (csg.isClosed) {\r\n    setPoints(vertices, csg.points[0], vertices.length - 3)\r\n  }\r\n  return { type: 'line', vertices }\r\n}\r\n\r\nfunction CSGSides2LineSegmentsVertices (csg) {\r\n  const vLen = csg.sides.length * 6\r\n\r\n  const vertices = new Float32Array(vLen)\r\n  csg.sides.forEach((side, idx) => {\r\n    const i = idx * 6\r\n    setPoints(vertices, side[0], i)\r\n    setPoints(vertices, side[1], i + 3)\r\n  })\r\n  return { type: 'lines', vertices }\r\n}\r\n\r\nconst CSGOutlines2LineSegmentsVertices = (key) => (csg) => {\r\n  const numPoints = csg[key].reduce((acc, outline) => acc + outline.length, 0)\r\n  const vLen = numPoints * 6\r\n\r\n  const vertices = new Float32Array(vLen)\r\n  let idx = 0\r\n  csg[key].forEach((outline) => {\r\n    let prev = outline[outline.length - 1]\r\n    outline.forEach((vert) => {\r\n      setPoints(vertices, prev, idx * 6)\r\n      setPoints(vertices, vert, idx * 6 + 3)\r\n      prev = vert\r\n      idx++\r\n    })\r\n  })\r\n  return { type: 'lines', vertices }\r\n}\r\n\r\nfunction CSGCached (func, data, cacheKey, transferable, unique, options) {\r\n  cacheKey = cacheKey || data\r\n\r\n  let geo = JscadToCommon.cache.get(cacheKey)\r\n  if (!geo) {\r\n    geo = func(data, options)\r\n    geo.id = JscadToCommon.sequence++\r\n\r\n    // fill transferable array for postMessage optimization\r\n    if (transferable) {\r\n      const { vertices, indices, normals } = geo\r\n      transferable.push(vertices)\r\n      if (indices) transferable.push(indices)\r\n      if (normals) transferable.push(normals)\r\n    }\r\n\r\n    JscadToCommon.cache.set(cacheKey, geo)\r\n  }\r\n  // flll unique map for exports that reuse stuff like 3mf\r\n  if (unique) unique.set(geo.id, geo)\r\n\r\n  return geo\r\n}\r\n\r\n/** Prepare lists of geometries gouped by type with format suitable for webgl if possible or type:unknown.\r\n *\r\n * @returns object separating converted geometries by type: line,lines,mesh,instance,unknown\r\n * */\r\nJscadToCommon.prepare = (list, transferable, useInstances) => {\r\n  const map = { line: [], lines: [], mesh: [], instance: [], unknown: [], all: [], unique: new Map() }\r\n\r\n  const instanceMap = new Map()\r\n  const add = data => {\r\n    map[data.type].push(data)\r\n    map.all.push(data)\r\n  }\r\n\r\n  const extract = list => {\r\n    list.forEach(csg => {\r\n      if (!csg) return\r\n      if (csg instanceof Array) {\r\n        extract(csg)\r\n      } else {\r\n        const obj = JscadToCommon(csg, transferable, map.unique)\r\n        // transparency in instanced mesh is problematic\r\n        // transparent objects need ordering,  and that breaks thing for rendering instances\r\n        if (useInstances && obj.type === 'mesh' && obj.id && (!csg.color || csg.color.length === 3 || csg.color[3] === 1)) {\r\n          let old = instanceMap.get(obj.id)\r\n          //console.log('instance', old, obj)\r\n          if (!old) {\r\n            old = { csg, ...obj, list: [] }\r\n            instanceMap.set(obj.id, old)\r\n          }\r\n          old.list.push(csg)\r\n        } else {\r\n          add({ csg, ...obj })\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  if (list) extract(list)\r\n  instanceMap.forEach(data => {\r\n    if (data.list.length === 1) {\r\n      delete data.list\r\n    } else {\r\n      data.type = 'instance'\r\n    }\r\n    add(data)\r\n  })\r\n\r\n  return map\r\n}\r\n\r\nexport function JscadToCommon (csg, transferable, unique, options) {\r\n  if (csg instanceof Array) return csg.map(csg2 => JscadToCommon(csg2, transferable, unique, options))\r\n  if (typeof csg !== 'object') throw new Error('invalid jscad geometry, not an object')\r\n  let obj\r\n\r\n  if (csg.polygons) obj = CSGCached(CSG2Vertices, csg, csg.polygons, transferable, unique, options)\r\n  if (csg.sides && !csg.points) obj = CSGCached(CSGSides2LineSegmentsVertices, csg, csg.sides, transferable, unique, options)\r\n  if (csg.outlines) obj = CSGCached(CSGOutlines2LineSegmentsVertices('outlines'), csg, csg.outlines, transferable, unique, options)\r\n  if (csg.contours) obj = CSGCached(CSGOutlines2LineSegmentsVertices('contours'), csg, csg.contours, transferable, unique, options)\r\n  if (csg.points) obj = CSGCached(CSG2LineVertices, csg, csg.points, transferable, unique, options)\r\n  if (csg.vertices) { // cover a case where the object already has the format\r\n    obj = csg\r\n    // avoid filling transferable multiple times\r\n    if (!JscadToCommon.cache.get(obj)) {\r\n      JscadToCommon.cache.set(obj, obj)\r\n      if (transferable) {\r\n        transferable.push(obj.vertices)\r\n        if (obj.indices) transferable.push(obj.indices)\r\n      }\r\n    }\r\n  }\r\n  if(csg.color || csg.transforms) obj = {...obj}\r\n  if(csg.color) obj.color = csg.color \r\n  if(csg.transforms) obj.transforms = csg.transforms\r\n\r\n  if (!obj || !obj.type) {\r\n    // throw new Error('invalid jscad geometry')\r\n    console.error('invalid jscad geometry', csg)\r\n    obj = { ...obj, csg, type: 'unknown' }\r\n  }\r\n  return obj\r\n}\r\n\r\nJscadToCommon.clearCache = () => {\r\n  JscadToCommon.cache = new WeakMap()\r\n  JscadToCommon.sequence = 1\r\n}\r\n\r\nJscadToCommon.clearCache()\r\n", "let seq = 1\r\nlet reqMap = new Map()\r\nconst RESPONSE = '__RESPONSE__'\r\nconst TRANSFERABLE = Symbol.for('__transferable__')\r\n\r\nexport const withTransferable = (params,trans)=>{\r\n  params[TRANSFERABLE] = trans\r\n  return params\r\n}\r\n\r\nconst messageHandler = (handlers, sendResponse, sendError) => {\r\n  return async (e) => {\r\n    const { method, params, id, error, stack } = e.data\r\n    if (id && method === RESPONSE) {\r\n      const p = reqMap.get(id)\r\n\r\n      if (!p) return console.error(`req ${id} not found`)\r\n      reqMap.delete(id)\r\n\r\n      const [resolve, reject] = p\r\n      if (error) {\r\n        // restore stacktrace\r\n        error.stack = stack\r\n        reject(error)\r\n      } else {\r\n        resolve(params)\r\n      }\r\n\r\n      return\r\n    }\r\n\r\n    const fn = handlers[method]\r\n    if (!fn) {\r\n      const msg = 'no handler for type: ' + method\r\n      console.error(msg, e)\r\n      throw new Error(msg)\r\n    }\r\n    try {\r\n      const out = await fn(params)\r\n      if (id) {\r\n        sendResponse(out, id)\r\n      }\r\n    } catch (error) {\r\n      console.error(`error executing command ${method}`, params, error)\r\n      sendError(error, id)\r\n    }\r\n  }\r\n}\r\n\r\nconst fixTransfer = trans => (trans ? trans.map(a => a.buffer || a) : [])\r\n\r\nconst messageSender = _self => {\r\n  const sendResponse = (params, id) => {\r\n    let trans = params?.[TRANSFERABLE]\r\n    if (trans) {\r\n      delete params[TRANSFERABLE]\r\n    }\r\n    try {\r\n      _self.postMessage({ method: RESPONSE, params, id }, fixTransfer(trans))\r\n      \r\n    } catch (error) {\r\n      console.error('failed to send ', params, trans)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const sendError = (error, id) => {\r\n    try {\r\n      // serialize stacktrace so it isn't lost in transit\r\n      const stack = error.stack\r\n      _self.postMessage({ method: RESPONSE, error, stack, id })\r\n    } catch (error) {\r\n      console.error('failed to send ', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send a message with no response\r\n   *\r\n   * @param {string} method\r\n   * @param {object} params\r\n   * @param {Array} trans\r\n   */\r\n  const sendNotify = (method, params = {}, trans = []) => {\r\n    _self.postMessage({ method, params }, fixTransfer(trans))\r\n  }\r\n\r\n  /**\r\n   * Send a message with response expected\r\n   *\r\n   * @param {string} method\r\n   * @param {object} params\r\n   * @param {Array} trans\r\n   * @param {number?} timeout\r\n   * @returns {Promise} resolves when response is received\r\n   */\r\n  const sendCmd = (method, params = {}, trans = [], timeout) => {\r\n    const id = seq++\r\n    _self.postMessage({ method, params, id }, fixTransfer(trans))\r\n\r\n    const out = new Promise((resolve, reject) => {\r\n      reqMap.set(id, [resolve, reject])\r\n      if (timeout) {\r\n        setTimeout(() => {\r\n          reject('timeout')\r\n        }, timeout)\r\n      }\r\n    })\r\n    return out\r\n  }\r\n\r\n  return { sendCmd, sendNotify, sendResponse, sendError }\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} _self reference to self of the main window (self) or reference to a worker\r\n * @param {*} handlers - object where key if method name, and value ih handler\r\n * @returns\r\n */\r\nexport const initMessaging = (_self, handlers) => {\r\n  // service worker has the postMessage on the .controller, it is not na same object as addEventListener\r\n  const out = messageSender(_self.postMessage ? _self : _self.controller)\r\n  out.listener = messageHandler(handlers, out.sendResponse, out.sendError)\r\n  out.self = _self\r\n  _self.addEventListener?.('message', out.listener)\r\n\r\n  return out\r\n}\r\n", "// https://stackoverflow.com/questions/3590058/does-html5-allow-drag-drop-upload-of-folders-or-a-folder-tree/53058574#53058574\r\nexport const readDir = async dir => {\r\n  if (!dir.createReader) return []\r\n  const directoryReader = dir.createReader()\r\n  let entries = []\r\n  let readEntries = await readEntriesPromise(directoryReader)\r\n  while (readEntries.length > 0) {\r\n    entries.push(...readEntries)\r\n    readEntries = await readEntriesPromise(directoryReader)\r\n  }\r\n  const fsDir = dir.fsPath && dir.fsPath !== '/' ? dir.fsPath + '/' : '/'\r\n  return entries.map(e => fileToFsEntry(e, fsDir))\r\n}\r\n\r\nexport const readEntriesPromise = async directoryReader => cbToPromise(directoryReader, 'readEntries')\r\n\r\nexport const filePromise = async entry =>{\r\n  const out = await cbToPromise(entry, 'file')\r\n  // propagate info from file to the entry\r\n  entry.lastModified = out.lastModified\r\n  entry.size = out.size\r\n  return out\r\n}\r\n\r\n/** Check file for changes and write previous values to the entry into ._lastModified and ._size.\r\n *  This simplifies checking because the entry itself has all the information about the prev and new state\r\n *   so when result is consumed, the consumer can see if there was a change, without having own internal tracking\r\n * @param {*} entry \r\n * @returns \r\n */\r\nexport const entryCheckPromise = async entry =>{\r\n  entry._lastModified = entry.lastModified\r\n  entry._size = entry.size\r\n  return new Promise((resolve, reject) => {\r\n    entry.file(file=>{\r\n      entry.lastModified = file.lastModified\r\n      entry.size = file.size\r\n      resolve([entry, file])\r\n    }, reject)\r\n  })\r\n}\r\n\r\n\r\n/** Convert methods that are not async/Promise but use similar pattern func(callback, errback) to async.\r\n * This way they can easily be used in modern JS with await\r\n * @param {*} src\r\n * @param {*} func\r\n * @returns\r\n */\r\nexport async function cbToPromise(src, func) {\r\n  return new Promise((resolve, reject) => {\r\n    src[func](resolve, reject)\r\n  })\r\n}\r\n\r\nexport const fileToFsEntry = (entry, fsDir) => {\r\n  entry.fsPath = fsDir + entry.name\r\n  return entry\r\n}\r\n", "import { filePromise } from \"./FileEntry\"\r\n\r\nexport const readAsArrayBuffer = async f => readAs(f, 'readAsArrayBuffer')\r\nexport const readAsBinaryString = async f => readAs(f, 'readAsBinaryString')\r\nexport const readAsDataURL = async f => readAs(f, 'readAsDataURL')\r\nexport const readAsText = async f => readAs(f, 'readAsText')\r\n\r\nconst readAs = async (f, as) =>\r\n  new Promise(async (resolve, reject) => {\r\n    const reader = new FileReader()\r\n    reader.onload = event => resolve(event.target.result)\r\n    reader.onerror = error => {\r\n      let msg = 'error reading ' + f.name\r\n      console.error(msg, f, error)\r\n      reject(msg)\r\n    }\r\n    // if we are given a FileEntry\u00A0instead of a resolved file\r\n    if(typeof f.file === 'function') f = await filePromise(f)\r\n    reader[as](f)\r\n  })\r\n", "import { initMessaging } from '@jscadui/postmessage'\r\n\r\nimport { entryCheckPromise, filePromise, fileToFsEntry, readDir } from './src/FileEntry.js'\r\nimport { readAsArrayBuffer, readAsText } from './src/FileReader.js'\r\n\r\n/** \r\n * @typedef {Cache}\r\n * \r\n * @typedef {SwHandler}\r\n * @prop {Cache} cache \r\n * \r\n */\r\n\r\nexport * from './src/FileReader.js'\r\nexport * from './src/FileEntry.js'\r\n\r\n\r\n/**\r\n * @param {string} path \r\n * @returns {Array<string>}\r\n */\r\nexport const splitPath = path => (typeof path === 'string' ? path.split('/').filter(p => p && p !== '.') : path)\r\nexport function extractPathInfo(url){\r\n  let idx = url.lastIndexOf('/')\r\n  let filename = url.substring(idx+1)\r\n  idx = filename.lastIndexOf('.')\r\n  let ext = filename.substring(idx+1)\r\n  return {url, filename, ext}\r\n}\r\nexport const getFile = async (path, sw) => {\r\n  let arr = splitPath(path)\r\n  let match = await findFileInRoots(sw.roots, arr)\r\n  if (match) {\r\n    fileIsRequested(path, match, sw)\r\n    return readAsArrayBuffer(await filePromise(match))\r\n  }\r\n}\r\n\r\n/** add path to cache, with content that can be anything that response allows\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Response/Response\r\n *\r\n * \r\n * @param {Cache} cache \r\n * @param {string} path \r\n * @param {Blob|ArrayBuffer|TypedArray|DataView|FormData|ReadableStream|URLSearchParams|string} content \r\n * @returns {Promise<undefined>}\r\n */\r\nexport const addToCache = async (cache, path, content) => cache.put(new Request(path), new Response(content))\r\n\r\nexport const addPreLoadAll = async (sw, paths, ignoreMissing) => {\r\n  const out = []\r\n  for (let i = 0; i < paths.length; i++) {\r\n    const match = await addPreLoad(sw, paths[i], ignoreMissing)\r\n    out.push([paths[i], match])\r\n  }\r\n  return out\r\n}\r\n\r\nexport const addPreLoad = async (sw, path, ignoreMissing) => {\r\n  const match = await findFileInRoots(sw.roots, path)\r\n  if (!match) {\r\n    if (!ignoreMissing) throw new Error('File not found ' + path)\r\n    return\r\n  }\r\n  let f = await filePromise(match)\r\n  await addToCache(sw.cache, path, await readAsArrayBuffer(f))\r\n  return match\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} workerScript \r\n * @param {*} _getFile \r\n * @param {*} param2 \r\n * @returns {SwHandler}\r\n */\r\nexport const registerServiceWorker = async (workerScript, _getFile = getFile, { prefix = '/swfs/' } = {}) => {\r\n  if ('serviceWorker' in navigator) {\r\n    try {\r\n      let registration = await navigator.serviceWorker.register(workerScript, {\r\n        scope: '/',\r\n      })\r\n      for (let i = 1; i <= 10; i++) {\r\n        if (registration.active) break\r\n        registration = await navigator.serviceWorker.getRegistration()\r\n      }\r\n    } catch (error) {\r\n      console.error(`service worker registration failed with ${error}`)\r\n    }\r\n\r\n    /** @type {SwHandler} */\r\n    const sw = initMessaging(navigator.serviceWorker, {\r\n      getFile: async ({ path }) => {\r\n        const file = await _getFile(path, sw)\r\n        if (file) {\r\n          await addToCache(sw.cache, path, file)\r\n          return 'ok'\r\n        } else {\r\n          return 'not_found'\r\n        }\r\n      },\r\n    })\r\n    sw.roots = []\r\n    sw.libRoots = []\r\n\r\n    // id is important as we use it to name the temporary cache instance\r\n    // for now we use fetch to extract our id, but a better way could be found later\r\n    const id = await fetch(prefix + 'init').then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error('failed to start service worker')\r\n      }\r\n      return res.text()\r\n    })\r\n    sw.id = id\r\n    const cacheId = prefix + id\r\n    window.addEventListener('beforeunload', e => caches.delete(cacheId))\r\n\r\n    sw.cache = await caches.open(cacheId)\r\n    sw.defProjectName = 'project'\r\n    sw.filesToCheck = []\r\n    sw.lastCheck = Date.now()\r\n    sw.base = new URL(`/swfs/${sw.id}/`, document.baseURI).toString()\r\n    checkFiles(sw)\r\n  \r\n    return sw\r\n  } else {\r\n    throw new Error('service worker unavailable')\r\n  }\r\n}\r\n\r\nexport const clearFs = async sw => {\r\n  sw.roots = []\r\n  sw.libRoots = []\r\n  return clearCache(sw.cache)\r\n}\r\n\r\nexport const clearCache = async cache => {\r\n  (await cache.keys()).forEach(key => cache.delete(key))\r\n}\r\n\r\nexport const extractEntries = dt => {\r\n  let items = dt.items\r\n  if (!items) return []\r\n\r\n  let file\r\n  let files = []\r\n  // Use DataTransferItemList interface to access the items(s).\r\n  // it is not an array, can not use .filter or othe Array methods\r\n  for (let i = 0; i < items.length; i++) {\r\n    // If dropped items aren't files, reject them\r\n    if (items[i].kind === 'file') {\r\n      file = items[i]\r\n      if (file.webkitGetAsEntry) file = file.webkitGetAsEntry()\r\n      else if (file.getAsEntry) file = file.getAsEntry()\r\n      else file = file.webkitGetAsFile()\r\n      files.push(file)\r\n    }\r\n  }\r\n  return files\r\n}\r\n\r\nexport const findFileInRoots = async (roots, path) => {\r\n  path = splitPath(path)\r\n  let out\r\n  for (let i = 0; i < roots.length; i++) {\r\n    out = await findFile(roots[i], path, 0)\r\n    if (out) break\r\n  }\r\n  return out\r\n}\r\n\r\nexport const findFile = async (arr, path, i) => {\r\n  let name = path[i]\r\n  let match = arr.find(f => f.name === name)\r\n  if (match) {\r\n    if (i >= path.length - 1) {\r\n      return match\r\n    }\r\n    return findFile(await loadDir(match), path, i + 1)\r\n  }\r\n}\r\n\r\nexport const loadDir = async dir => {\r\n  if (dir.isDirectory && !dir.children) {\r\n    dir.children = await readDir(dir)\r\n  }\r\n  return dir.children || []\r\n}\r\n\r\nexport const checkFiles = (sw) => {\r\n  const now = Date.now()\r\n  if (now - sw.lastCheck > 300 && sw.filesToCheck.length != 0) {\r\n    sw.lastCheck = now\r\n    let todo = sw.filesToCheck.map(entryCheckPromise)\r\n    Promise.all(todo).then(result => {\r\n      result = result.filter(([entry, file]) => entry.lastModified != entry._lastModified)\r\n      if (result.length) {\r\n        const todo = []\r\n        const files = result.map(([entry, file]) => {\r\n          todo.push(addToCache(sw.cache, entry.fsPath, file))\r\n          return entry.fsPath\r\n        })\r\n        Promise.all(todo).then(result => {\r\n          sw.onfileschange?.(files)\r\n        })\r\n      }\r\n    })\r\n\r\n    // TODO clear sw cache\r\n    // TODO sendCmd clearFileCache {files}\r\n  }\r\n  requestAnimationFrame(()=>checkFiles(sw))\r\n}\r\n\r\nexport async function fileDropped(sw, files) {\r\n  sw.filesToCheck.length = 0\r\n  sw.fileToRun = 'index.js'\r\n  let folderName\r\n  clearFs(sw)\r\n  let rootFiles = []\r\n  if (files.length === 1) {\r\n    const file = files[0]\r\n    if (file.isDirectory) {\r\n      folderName = file.name\r\n      file.fsDir = '/'\r\n      rootFiles = await readDir(file)\r\n    } else {\r\n      rootFiles.push(file)\r\n      sw.fileToRun = file.name\r\n    }\r\n  } else {\r\n    rootFiles = Array.from(files)\r\n  }\r\n  rootFiles = rootFiles.map(e => fileToFsEntry(e, '/'))\r\n  sw.roots.push(rootFiles)\r\n\r\n  const alias = await getWorkspaceAliases(sw)\r\n\r\n  let time = Date.now()\r\n  const preLoad = ['/' + sw.fileToRun, '/package.json']\r\n  const loaded = await addPreLoadAll(sw, preLoad, true)\r\n\r\n  sw.projectName = sw.defProjectName\r\n  if (sw.fileToRun !== 'index.js') sw.projectName = sw.fileToRun.replace(/\\.js$/, '')\r\n  if (folderName) sw.projectName = folderName\r\n  \r\n  let script = ''\r\n  if (sw.fileToRun) {\r\n    sw.fileToRun = `/${sw.fileToRun}`\r\n    const file = await findFileInRoots(sw.roots, sw.fileToRun)\r\n    if (file) {\r\n      sw.filesToCheck.push(file)\r\n      script = await readAsText(file)\r\n    } else {\r\n      throw new Error(`main file not found ${sw.fileToRun}`)\r\n    }\r\n  }\r\n  return {alias, script}\r\n}\r\n\r\n/**\r\n * Parse package.json, and return a list of workspace aliases.\r\n * Also parses the main file to run, if any.\r\n *\r\n * @param {SwHandler} sw\r\n * @returns {Array}\r\n */\r\nconst getWorkspaceAliases = async (sw) => {\r\n  const alias = []\r\n  let pkgFile = await findFileInRoots(sw.roots, 'package.json')\r\n  if (pkgFile) {\r\n    try {\r\n      const pack = JSON.parse(await readAsText(pkgFile))\r\n      if (pack.main) sw.fileToRun = pack.main\r\n      if (pack.workspaces)\r\n        for (let i = 0; i < pack.workspaces.length; i++) {\r\n          const w = pack.workspaces[i]\r\n          // debugger\r\n          let pack2 = await findFileInRoots(sw.roots, `/${w}/package.json`)\r\n          if (pack2) pack2 = JSON.parse(await readAsText(pack2))\r\n          let name = pack2?.name || w\r\n          let main = pack2?.main || 'index.js'\r\n          alias.push({ name, path: `/${w}/${main}` })\r\n        }\r\n    } catch (error) {\r\n      error.message = `failed to parse package.json\\n  ${error}`\r\n      throw error\r\n    }\r\n  }\r\n  return alias\r\n}\r\n\r\nexport const findByFsPath = (arr, file) => {\r\n  const path = typeof file === 'string' ? file : file.fsPath\r\n  return arr.find(f => f.fsPath === path)\r\n}\r\n\r\nexport const fileIsRequested = (path, file, sw) => {\r\n  let match\r\n  if ((match = findByFsPath(sw.filesToCheck, file))) return\r\n  sw.filesToCheck.push(file)\r\n}\r\n", "\r\nexport const MODULE_BASE = 'https://cdn.jsdelivr.net/npm/'\r\n\r\nexport const getExtension = (url) => {\r\n  let arr = url.split('/')\r\n  let file = arr[arr.length-1]\r\n  let idx = file.lastIndexOf('.')\r\n  return idx == -1 ? '' : file.substring(idx+1)\r\n}\r\n\r\nconst splitModuleName = (module) => {\r\n  let file = ''\r\n  let idx = module.indexOf('/')\r\n  if (module[0] === '@') idx = module.indexOf('/',idx+1)\r\n  if (idx !== -1) {\r\n    file = module.substring(idx+1)\r\n    module = module.substring(0,idx)\r\n  }\r\n  return [module,file]\r\n}\r\n\r\n/**\r\n * Resolve a package or file name to a url.\r\n * JS packages will resolve to an npm package url.\r\n * Relative urls will resolve to a local url.\r\n * @param {string} url the package or file name to resolve\r\n * @param {string} base the url of the current module to resolve relative to\r\n * @param {string} root the url under which local files are served\r\n * @param {string} moduleBase the url for npm packages\r\n * @returns the resolved module url\r\n */\r\nexport const resolveUrl = (url, base, root, moduleBase=MODULE_BASE) => {\r\n  let isRelativeFile = false\r\n  let isModule = false\r\n  \r\n  if (!/^(http:|https:|fs:|file:)/.test(url)) {\r\n    // npm modules cannot start with . or /\r\n    if (!/^\\.?\\.?\\//.test(url)) {\r\n      const [moduleName, moduleFile] = splitModuleName(url)\r\n      const moduleUrl = new URL(moduleName, moduleBase).toString()\r\n      if (moduleFile) {\r\n        base = root = moduleUrl + '/'\r\n        url = moduleFile\r\n        isRelativeFile = true\r\n      } else {\r\n        isModule = true\r\n        url = moduleUrl\r\n      }\r\n    } else {\r\n      isRelativeFile = true\r\n    }\r\n\r\n    if (isRelativeFile && root) {\r\n      // sanitize to avoid going below root, it will prevent / to go below cache baseUrl\r\n      // it will prevent ../../../../ to go below cache baseUrl\r\n      const fromRoot = root && url[0] === '/'\r\n      if (!fromRoot) {\r\n        // base relative path\r\n        const relativePath = base.replace(/^\\//, '').replace(root, '') // strip root\r\n        // create url relative path\r\n        url = new URL(url, `fs:/root/${relativePath}`).toString()\r\n        // check if url went above root\r\n        if (!url.startsWith('fs:/root/')) throw new Error('relative url cannot go above root')\r\n        url = url.substring(9)\r\n      } else {\r\n        url = url.substring(1)\r\n      }\r\n      if (!getExtension(url)) url += '.js'\r\n      // now create the full url to load the file\r\n      url = new URL(url, root).toString()\r\n    }\r\n  }\r\n  return { url, isRelativeFile, isModule }\r\n}\r\n", "/* TODO\r\n- different urls base for local files and modules\r\n- require localized for a specific local file\r\n- require localized for a module url (if module calls require ./)\r\n- use local cache for local files\r\n- use moduleCache for modules\r\n- inspect package.json to see if there is cjs already pre-built\r\n- add .js to local requires (but for modules)\r\n  - local files start with ./ or ../  and others are considered modules\r\n- typescript import must use .js (it is a bit strange, but probably has good reasons)\r\n*/\r\n\r\nimport { extractPathInfo } from '../../fs-provider/fs-provider'\r\nimport { MODULE_BASE, getExtension, resolveUrl } from './resolveUrl'\r\n\r\nexport { resolveUrl } from './resolveUrl'\r\n\r\n// initially new Function was used to pass parameters: require, exports, module\r\n// new Functions screws with sourcemaps as it adds a prefix to the source\r\n// we need eval to do the same without prefix\r\n// https://esbuild.github.io/content-types/#direct-eval\r\n// to be nice to bundlers we need indirect eval\r\n// also self is not available in nodejs\r\nexport const runModule = (typeof self === 'undefined' ? eval : self.eval)(\r\n  '(require, exports, module, source)=>eval(source)',\r\n)\r\n\r\nexport const require = (urlOrSource, transform, readFile, base, root, importData = null, moduleBase = MODULE_BASE) => {\r\n  let source\r\n  let url\r\n  let isRelativeFile\r\n  let cache\r\n  let cacheUrl\r\n  let bundleAlias\r\n  if(typeof urlOrSource === 'string'){\r\n    url = urlOrSource\r\n  }else{\r\n    source = urlOrSource.script\r\n    url = urlOrSource.url\r\n    isRelativeFile = true\r\n  }\r\n  let exports\r\n  let resolvedUrl = url\r\n\r\n  if (source === undefined) {\r\n    bundleAlias = requireCache.bundleAlias[url]\r\n    const aliasedUrl = bundleAlias || requireCache.alias[url] || url\r\n\r\n    const resolved = resolveUrl(aliasedUrl, base, root, moduleBase)\r\n    const resolvedStr = resolved.url.toString()\r\n    const isJs = resolvedStr.endsWith('.ts') || resolvedStr.endsWith('.js')\r\n    if(!isJs && importData){\r\n      const info = extractPathInfo(resolvedStr)\r\n      let content = readFile(resolvedStr,{output: importData.isBinaryExt(info.ext)})\r\n      return importData.deserialize(info, content)\r\n    }\r\n\r\n    isRelativeFile = resolved.isRelativeFile\r\n    resolvedUrl = resolved.url\r\n    cacheUrl = resolved.url\r\n\r\n    cache = requireCache[isRelativeFile ? 'local':'module']\r\n    exports = cache[cacheUrl] // get from cache\r\n    if (!exports) {\r\n      // not cached\r\n      try {\r\n        source = readFile(resolvedUrl)\r\n        if (resolvedUrl.includes('jsdelivr.net')) {\r\n          // jsdelivr will read package.json and tell us what the main file is\r\n          const srch = ' * Original file: '\r\n          let idx = source.indexOf(srch)\r\n          if (idx != -1) {\r\n            const idx2 = source.indexOf('\\n', idx+srch.length+1)\r\n            const realFile = new URL(source.substring(idx+srch.length, idx2), resolvedUrl).toString()\r\n            resolvedUrl = base = realFile\r\n          }\r\n        }\r\n      } catch (e) {\r\n        if (resolvedUrl.endsWith('.js')) {\r\n          try {\r\n            resolvedUrl = resolvedUrl.replace(/\\.js$/, '.ts')\r\n            source = readFile(resolvedUrl)\r\n          } catch (e2) {\r\n            console.error('failed to load fallback .ts')\r\n            throw new Error(`failed to load module ${url}\\n  ${e}`)\r\n          }\r\n        } else {\r\n          throw new Error(`failed to load module ${url}\\n  ${e}`)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (source !== undefined) {\r\n    let extension = getExtension(resolvedUrl)\r\n    // https://cdn.jsdelivr.net/npm/@jscad/svg-serializer@2.3.13/index.js uses require to read package.json\r\n    if (extension === 'json') {\r\n      exports = JSON.parse(source)\r\n    } else {\r\n      // do not transform bundles that are already cjs ( requireCache.bundleAlias.*)\r\n      if (transform && !bundleAlias) source = transform(source, resolvedUrl).code\r\n      // construct require function relative to resolvedUrl\r\n      let requireFunc = newUrl => require(newUrl, transform, readFile, resolvedUrl, root, importData, moduleBase)\r\n      const module = requireModule(url, resolvedUrl, source, requireFunc)\r\n      module.local = isRelativeFile\r\n      exports = module.exports\r\n    }\r\n  }\r\n\r\n  if (cache && cacheUrl) cache[cacheUrl] = exports // cache obj exported by module\r\n  // TODO research maybe in the future, why going through babel adds __esModule=true\r\n  // this extra reference via defaults helps\r\n  // exports.__esModule = false // this did not help\r\n  exports.default = {...exports}\r\n\r\n  return exports // require returns object exported by module\r\n}\r\n\r\nconst requireModule = (id, url, source, _require) => {\r\n  try {\r\n    const exports = {}\r\n    const module = { id, uri: url, exports, source } // according to node.js modules\r\n    //module.require = _require\r\n    runModule(_require, exports, module, source)\r\n    return module\r\n  } catch (err) {\r\n    err.message = `failed loading module ${id}\\n  ${err}`\r\n    throw err\r\n  }\r\n}\r\n\r\n/**\r\n * Clear file cache for specific files. Used when a file has changed.\r\n */\r\nexport const clearFileCache = async ({files}) => {\r\n  const cache = requireCache.local\r\n  files.forEach(f=>{\r\n    delete cache[f]\r\n  })\r\n}\r\n\r\n/**\r\n * Clear project-specific cache\r\n */\r\nexport const clearTempCache = () => {\r\n  requireCache.local = {}\r\n  requireCache.alias = {}\r\n}\r\n\r\nexport const requireCache = {\r\n  local: {},\r\n  alias: {},\r\n  module: {},\r\n  bundleAlias: {},\r\n}\r\n", "// it is possible to read binary data\r\n// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data\r\n\r\nexport const readFileWeb = (path, {base = '', output='text'}={}) => {\r\n  const req = new XMLHttpRequest()\r\n  req.open('GET', base ? new URL(path, base) : path, 0) // sync\r\n\r\n  if(output !== 'text'){\r\n    // this hack was hard to find, and we can not use fetch because we need sync request\r\n    // XHR binary charset opt by Marcus Granado 2006 [http://mgran.blogspot.com]\r\n    req.overrideMimeType(\"text/plain; charset=x-user-defined\");    \r\n  }\r\n  \r\n  req.send()\r\n  if (req.status && req.status === 404) {\r\n    throw new Error(`file not found ${path}`)\r\n  } else if (req.status && req.status !== 200) {\r\n    throw new Error(`failed to fetch file ${path} ${req.status} ${req.statusText}`)\r\n  }\r\n\r\n  return output == 'text' ? req.responseText : req.response\r\n}\r\n", "export const exportStlText = (objects) => {\r\n  const out = ['solid JSCAD\\n']\r\n  convertToStl(objects, out)\r\n  out.push('endsolid JSCAD\\n')\r\n  return out\r\n}\r\n\r\nconst convertToStl = (objects, out) => {\r\n  objects.forEach((object, i) => {\r\n    convertToFacets(object, out)\r\n  })\r\n  return out\r\n}\r\n\r\nconst vertextoStlString = (prefix, v, idx) => `${prefix} ${v[idx]} ${v[idx+1]} ${v[idx+2]}\\n`\r\n\r\nconst convertToFacets = (polygon, out) => {\r\n  const {vertices, indices, normals} = polygon\r\n  const max = indices.length - 2\r\n  for(let i=0; i<max; i+=3){\r\n    out.push(vertextoStlString('facet normal',normals,i))\r\n    out.push('outer loop\\n')\r\n    out.push(vertextoStlString('vertex',vertices, indices[i]*3))  \r\n    out.push(vertextoStlString('vertex',vertices, indices[i+1]*3))  \r\n    out.push(vertextoStlString('vertex',vertices, indices[i+2]*3))  \r\n    out.push('endloop\\nendfacet\\n')\r\n  }\r\n  return out\r\n}\r\n", "import JSON5 from 'json5'\r\n\r\n/* Count leading spaces in a line.\r\nThis helps provide more descriptive comments after the parameter.\r\n\r\nWhen comment is found the number of spaces can be compared with previous parameter definition.\r\nWhen comment line is indented more than parameter(incl. parameter name)\r\nit is considered as description of previous parameter and not a group definition.\r\n\r\n*/\r\nconst countSpaces = (line) => {\r\n  let count = 0\r\n  for (let i = 0; i < line.length; i++) {\r\n    if (line[i] === ' ') count++\r\n    else if (line[i] === '\\t') count += 2\r\n    else break\r\n  }\r\n  return count\r\n}\r\n\r\nconst getParameterDefinitionsFromSource = (script) => {\r\n  const lines = []\r\n  script.split('\\n').forEach((l, i) => {\r\n    const trim = l.trim()\r\n    if (trim) {\r\n      lines.push({ code: trim, line: l, lineNum: i + 1, indent: countSpaces(l) })\r\n    }\r\n  })\r\n\r\n  let i = 0; let lineNum; let code; let prev; let prevIndent\r\n  while (i < lines.length) {\r\n    code = lines[i].code\r\n    i++\r\n    if (code.length > 12 && code.indexOf('@jscad-params') !== -1) break\r\n  }\r\n\r\n  let groupIndex = 1\r\n  const defs = []\r\n\r\n  while (i < lines.length) {\r\n    code = lines[i].code\r\n    lineNum = lines[i].lineNum\r\n    if (code[0] === '}') break\r\n\r\n    const isGroup = code[0] === '/'\r\n    if (isGroup && prev) {\r\n      const isHint = prev.type === 'group' || prevIndent + prev.name.length <= lines[i].indent\r\n      if (isHint) {\r\n        prev.hint = prev.hint ? prev.hint + '\\n' : ''\r\n        prev.hint += extractTextFromComment(code, lineNum)\r\n        i++\r\n        continue\r\n      }\r\n    }\r\n\r\n    prevIndent = lines[i].indent\r\n    if (isGroup) {\r\n      // group\r\n      const name = '_group_' + (groupIndex++)\r\n      const def = parseComment(code, lineNum, name)\r\n      let caption = def.caption\r\n      if (caption[0] === '>') {\r\n        caption = caption.substring(1).trim()\r\n        if (!def.options) def.options = {}\r\n        def.options.initial = 'closed'\r\n      }\r\n\r\n      defs.push(prev = { name, type: 'group', caption, ...def.options })\r\n    } else {\r\n      const idx = code.indexOf('/')\r\n      if (idx === -1) {\r\n        // also handle case when closing bracket is in same line as last parameter\r\n        //   width=11}\r\n        // it is not an exhaustive check but covers additional case to simplify it for users\r\n        const bracketIdx = code.indexOf('}')\r\n        if (bracketIdx !== -1) code = code.substring(0, bracketIdx)\r\n\r\n        const def = parseDef(code, lineNum)\r\n        def.caption = def.name\r\n        defs.push(prev = def)\r\n\r\n        if (bracketIdx !== -1) break\r\n      } else {\r\n        defs.push(prev = parseOne(\r\n          code.substring(idx).trim(),\r\n          code.substring(0, idx).trim(),\r\n          lineNum, lineNum\r\n        ))\r\n      }\r\n    }\r\n    i++\r\n  }\r\n\r\n  return defs\r\n}\r\n\r\nconst parseOne = (comment, code, line1, line2) => {\r\n  let def = parseDef(code, line2)\r\n  const { caption, options } = parseComment(comment, line1, def.name)\r\n  def.caption = caption || def.name\r\n  if (options) {\r\n    def = { ...def, ...options }\r\n    if (def.type === 'checkbox' && 'initial' in def) def.checked = true\r\n    if (def.type === 'slider') {\r\n      if (def.min === undefined) {\r\n        def.min = 0\r\n      }\r\n      if (def.max === undefined) {\r\n        def.max = 100\r\n      }\r\n    }\r\n  }\r\n\r\n  return def\r\n}\r\n\r\nconst extractTextFromComment = (c, lineNum) => {\r\n  const prefix = c.substring(0, 2)\r\n  // after cutting-out the comment marker, there could be more spaces to trim\r\n  if (prefix === '//') c = c.substring(2).trim()\r\n  if (prefix === '/*') {\r\n    if (c.substring(c.length - 2) !== '*/') throw new EvalError(`Multi-line comments not supported in parsed parameter definitions, line:${lineNum}`, 'code', lineNum)\r\n    c = c.substring(2, c.length - 2).trim()\r\n  }\r\n\r\n  return c\r\n}\r\n\r\nconst parseComment = (comment, lineNum, paramName) => {\r\n  comment = extractTextFromComment(comment, lineNum)\r\n\r\n  const ret = {}\r\n  const idx = comment.indexOf('{')\r\n  if (idx !== -1) {\r\n    try {\r\n      ret.options = JSON5.parse(comment.substring(idx))\r\n    } catch (e) {\r\n      throw new EvalError(`${e.message}, parameter:${paramName}, line:${lineNum}: ${comment.substring(idx)}`, 'code', lineNum)\r\n    }\r\n    comment = comment.substring(0, idx).trim()\r\n  }\r\n\r\n  ret.caption = comment\r\n\r\n  return ret\r\n}\r\n\r\nconst parseDef = (code, line) => {\r\n  if (code[code.length - 1] === ',') code = code.substring(0, code.length - 1).trim()\r\n  let idx = code.indexOf('=')\r\n\r\n  if (idx === -1) idx = code.indexOf(':')\r\n\r\n  if (idx === -1) {\r\n    return { name: code, type: 'text' }\r\n  } else {\r\n    const initial = code.substring(idx + 1).trim()\r\n\r\n    const ret = { type: 'text', name: code.substring(0, idx).trim() }\r\n\r\n    if (initial === 'true' || initial === 'false') {\r\n      ret.type = 'checkbox'\r\n      ret.checked = initial === 'true'\r\n    } else if (/^[0-9]+$/.test(initial)) {\r\n      ret.type = 'int'\r\n      ret.initial = parseFloat(initial)\r\n    } else if (/^[0-9]+\\.[0-9]+$/.test(initial)) {\r\n      ret.type = 'number'\r\n      ret.initial = parseFloat(initial)\r\n    } else {\r\n      try {\r\n        ret.initial = JSON5.parse(initial)\r\n      } catch (e) {\r\n        throw new EvalError(`Error in the initial value definition for ${code}  ${e.message}, line:${line}`, 'code', line)\r\n      }\r\n    }\r\n\r\n    return ret\r\n  }\r\n}\r\n\r\nconst combineParameterDefinitions = (paramDefFromSource, extraDef) => {\r\n  const def = [...paramDefFromSource]\r\n  if (extraDef) {\r\n    extraDef.forEach((param) => {\r\n      const idx = def.findIndex((p) => p.name === param.name)\r\n      if (idx !== -1) def[idx] = param\r\n      else def.push(param)\r\n    })\r\n  }\r\n  return def\r\n}\r\n\r\nexport {\r\n  getParameterDefinitionsFromSource,\r\n  parseOne,\r\n  parseComment,\r\n  parseDef,\r\n  combineParameterDefinitions\r\n}\r\n", "export function extractDefaults(def){\r\n  const params = {}\r\n  def.forEach(({ name, initial, default: def, type, values, captions }) =>{\r\n    let val = def === undefined ? initial : def\r\n    if(type === 'choice' && values.indexOf(v=>v === val) === -1){\r\n      // it is supported for choice to use default value from captions also\r\n      // but script will need the matching value\r\n      if (captions) {\r\n        for (let i = 0; i < captions.length; i++) {\r\n          if (captions[i] === val) {\r\n            val = values[i]\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if(val === undefined) val = values[0]\r\n    }\r\n    params[name] = val\r\n  })\r\n  return params\r\n}", "import { JscadToCommon } from '@jscadui/format-jscad'\r\nimport { initMessaging, withTransferable } from '@jscadui/postmessage'\r\nimport { clearFileCache, clearTempCache, readFileWeb, require, requireCache, resolveUrl } from '@jscadui/require'\r\n\r\nimport { exportStlText } from './src/exportStlText.js'\r\nimport { combineParameterDefinitions, getParameterDefinitionsFromSource } from './src/getParameterDefinitionsFromSource.js'\r\nimport { extractDefaults } from './src/extractDefaults.js'\r\nimport { extractPathInfo, readAsArrayBuffer, readAsText } from '../fs-provider/fs-provider.js'\r\n\r\nlet main\r\nself.JSCAD_WORKER_ENV = {}\r\nlet transformFunc = x => x\r\nlet client\r\nlet globalBase = location.origin\r\nlet userInstances\r\nlet importData\r\n\r\nexport const flatten = arr=>{\r\n  const doFlatten = (_in, out)=>{\r\n    if(_in instanceof Array){\r\n      _in.forEach(el=>doFlatten(el,out))\r\n    }else{\r\n      out.push(_in)\r\n    }\r\n  }\r\n\r\n  const out = []\r\n  doFlatten(arr,out)\r\n  return out\r\n}\r\n\r\nexport const init = params => {\r\n  let { baseURI, alias = [], bundles = {} } = params\r\n  if (baseURI) globalBase = baseURI\r\n\r\n  if (bundles) Object.assign(requireCache.bundleAlias, bundles)\r\n  // workspace aliases\r\n  alias.forEach(({ name, path }) => {\r\n    requireCache.alias[name] = path\r\n  })\r\n  console.log('init alias', alias, 'bundles',bundles)\r\n  userInstances = params.userInstances\r\n}\r\n\r\nasync function readFileFile(file, {bin=false}={}){\r\n  if(bin) return await readAsArrayBuffer(file)\r\n  else return readAsText(file)\r\n}\r\n\r\nsolids = []\r\nexport async function runMain({ params } = {}) {\r\n  params = {...params}\r\n  for(let p in params){\r\n    if(params[p] instanceof File && importData){\r\n      const info = extractPathInfo(params[p].name)\r\n      let content = await readFileFile(params[p],{bin: importData.isBinaryExt(info.ext)})\r\n      params[p] = importData.deserialize(info, content)\r\n    }\r\n  }\r\n  console.log('runMain', params)\r\n  let entities = []\r\n  const transferable = []\r\n\r\n  if (!main) throw new Error('no main function exported')\r\n\r\n  let time = Date.now()\r\n  solids = flatten(await main(params || {}))\r\n  // if (!(solids instanceof Array)) {\r\n  //   solids = [solids]\r\n  // } else {\r\n  //   solids = flatten(solids)\r\n  // }\r\n  const solidsTime = Date.now() - time\r\n\r\n  time = Date.now()\r\n  JscadToCommon.clearCache()\r\n  entities = JscadToCommon.prepare(solids, transferable, userInstances)\r\n  entities = entities.all\r\n  // entities = [...entities.lines, ...entities.line, ...entities.instance]\r\n  //  client.sendNotify('entities', { entities, solidsTime, entitiesTime: Date.now() - time }, transferable)\r\n  return withTransferable({entities}, transferable)\r\n}\r\n\r\n// https://stackoverflow.com/questions/52086611/regex-for-matching-js-import-statements\r\nconst importReg = /import(?:(?:(?:[ \\n\\t]+([^ *\\n\\t\\{\\},]+)[ \\n\\t]*(?:,|[ \\n\\t]+))?([ \\n\\t]*\\{(?:[ \\n\\t]*[^ \\n\\t\"'\\{\\}]+[ \\n\\t]*,?)+\\})?[ \\n\\t]*)|[ \\n\\t]*\\*[ \\n\\t]*as[ \\n\\t]+([^ \\n\\t\\{\\}]+)[ \\n\\t]+)from[ \\n\\t]*(?:['\"])([^'\"\\n]+)(['\"])/\r\nconst exportReg = /export.*from/\r\n\r\nconst runScript = async ({ script, url, base=globalBase, root=base }) => {\r\n  if(!script) script = readFileWeb(resolveUrl(url, base, root).url)\r\n\r\n  const shouldTransform = url.endsWith('.ts') || script.includes('import') && (importReg.test(script) || exportReg.test(script))\r\n  let def = []\r\n  \r\n  const scriptModule = require({url,script}, shouldTransform ? transformFunc : undefined, readFileWeb, base, root, importData)\r\n  const fromSource = getParameterDefinitionsFromSource(script)\r\n  def = combineParameterDefinitions(fromSource, await scriptModule.getParameterDefinitions?.())\r\n  main = scriptModule.main\r\n  let out = await runMain({ params: extractDefaults(def) })\r\n  out.def = def\r\n  return out\r\n}\r\n\r\n// TODO remove, or move to another package, along with exportStlText\r\n// this is interesting in regards to exporting to stl, and 3mf which actually need vertex data, \r\n// and not jcad geometry polygons. So it will be interesting to can give back transferable buffers\r\n// instead of re-running conversion. or move export to main thread where the data already is, as it is needed for rendering\r\nconst exportData = async (params) => {\r\n  if(self.exportData) return self.exportData(params)\r\n\r\n  const { format } = params\r\n  // todo check if it is ok to give back transferables after webgl has used the buffers\r\n  // then we would not need to clone the data\r\n  // other option is to clone data before sending transferable\r\n  JscadToCommon.clearCache()\r\n  let entities = JscadToCommon(solids, [], false)\r\n\r\n  const arr = exportStlText(entities)\r\n  data = [await new Blob(arr).arrayBuffer()]\r\n  return withTransferable({ data }, data)\r\n}\r\n\r\nexport const currentSolids = ()=>solids\r\n\r\nconst handlers = { runScript, init, runMain, clearTempCache, clearFileCache, exportData }\r\n\r\nexport const initWorker = (transform, exportData, _importData) => {\r\n  if (transform) transformFunc = transform\r\n  if(exportData) handlers.exportData = exportData\r\n  importData = _importData\r\n\r\n  client = initMessaging(self, handlers)\r\n}\r\n", "importScripts('./bundle.jscadui.transform-babel.js')\r\n\r\n// import io from '@jscad/io'\r\nconst {transformcjs} = jscadui_transform_babel\r\n// import {transformcjs} from '@jscadui/transform-babel'\r\n\r\nimport {currentSolids, initWorker} from '@jscadui/worker'\r\nimport {readFileWeb, require} from '@jscadui/require'\r\n\r\nimport { withTransferable } from '@jscadui/postmessage'\r\n\r\nconst serializerMap ={\r\n  'stla': ['stlSerializer', {binary:false}],\r\n  'stlb': ['stlSerializer', {binary:true}],\r\n  'amf': ['amfSerializer', {}],\r\n  'obj': ['objSerializer', {}],\r\n  'x3d': ['x3dSerializer', {}],\r\n  '3mf': ['m3fSerializer', {}],\r\n  'json': ['jsonSerializer', {}],\r\n  'svg': ['svgSerializer', {}],\r\n}\r\n\r\nconst exportData = ({format, options={}})=>{\r\n  const jscad_io = require('./bundle.jscad_io.js', null, readFileWeb)\r\n  const solids = currentSolids()\r\n  const [key, defaults] = serializerMap[format]\r\n  const serializer = jscad_io[key]\r\n  const data = serializer.serialize({...defaults, ...options}, solids)\r\n  return withTransferable({ data }, data.filter(v=>typeof v !== 'string'))\r\n}\r\n\r\nconst importData = {\r\n  isBinaryExt: ext=>ext === 'stl' ? 'bin':'text',\r\n  deserialize: ({url, filename, ext}, fileContent)=>{\r\n    try {\r\n      const jscad_io = require('./bundle.jscad_io.js', null, readFileWeb)\r\n      let deserializer = jscad_io.deserializers[ext]\r\n\r\n      if(deserializer) return deserializer({output:'geometry', filename}, fileContent)\r\n      throw new Error('unsupportd format in '+url)\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\ninitWorker(transformcjs, exportData, importData)\r\n"],
  "mappings": "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",
  "names": ["require_dist", "__commonJSMin", "exports", "module", "global", "factory", "createCommonjsModule", "fn", "_global", "_core", "core", "_core_1", "_isObject", "it", "_anObject", "_fails", "exec", "_descriptors", "document", "is", "_domCreate", "_ie8DomDefine", "_toPrimitive", "S", "val", "dP", "f", "O", "P", "Attributes", "_objectDp", "_propertyDesc", "bitmap", "value", "_hide", "object", "key", "hasOwnProperty", "_has", "id", "px", "_uid", "_library", "_shared", "SHARED", "store", "_functionToString", "_redefine", "SRC", "TO_STRING", "TPL", "safe", "isFunction", "_aFunction", "_ctx", "that", "length", "a", "b", "c", "PROTOTYPE", "$export", "type", "name", "source", "IS_FORCED", "IS_GLOBAL", "IS_STATIC", "IS_PROTO", "IS_BIND", "target", "expProto", "own", "out", "exp", "_export", "ceil", "floor", "_toInteger", "_defined", "_stringAt", "pos", "s", "i", "l", "$at", "codePointAt", "max", "min", "_toAbsoluteIndex", "index", "fromCharCode", "$fromCodePoint", "x", "arguments$1", "res", "aLen", "code", "fromCodePoint", "Space_Separator", "ID_Start", "ID_Continue", "unicode", "util", "parseState", "stack", "line", "column", "token", "root", "parse", "text", "reviver", "lex", "parseStates", "internalize", "holder", "replacement", "key$1", "replacement$1", "lexState", "buffer", "doubleQuote", "sign", "peek", "lexStates", "read", "newToken", "invalidChar", "literal", "u", "unicodeEscape", "invalidIdentifier", "escape", "separatorChar", "list", "p", "hexEscape", "count", "invalidEOF", "push", "pop", "parent", "current", "syntaxError", "formatChar", "replacements", "hexString", "message", "err", "stringify", "replacer", "space", "indent", "propertyList", "replacerFunc", "gap", "quote", "v", "item", "serializeProperty", "quoteString", "serializeArray", "serializeObject", "quotes", "product", "quoteChar", "stepback", "keys", "partial", "propertyString", "member", "serializeKey", "final", "properties", "separator", "firstChar", "properties$1", "JSON5", "lib", "es5", "setPoints", "points", "p", "i", "CSG2Vertices", "csg", "vLen", "iLen", "poly", "len", "vertices", "normals", "indices", "vertOffset", "indOffset", "posOffset", "first", "arr", "normal", "calculateNormal", "v0", "v1", "v2", "Ax", "Ay", "Az", "Bx", "By", "Bz", "Nx", "Ny", "Nz", "CSG2LineVertices", "idx", "CSGSides2LineSegmentsVertices", "side", "CSGOutlines2LineSegmentsVertices", "key", "acc", "outline", "prev", "vert", "CSGCached", "func", "data", "cacheKey", "transferable", "unique", "options", "geo", "JscadToCommon", "list", "useInstances", "map", "instanceMap", "add", "extract", "obj", "old", "csg2", "seq", "reqMap", "RESPONSE", "TRANSFERABLE", "withTransferable", "params", "trans", "messageHandler", "handlers", "sendResponse", "sendError", "e", "method", "id", "error", "stack", "p", "resolve", "reject", "fn", "msg", "out", "fixTransfer", "a", "messageSender", "_self", "timeout", "initMessaging", "filePromise", "entry", "out", "cbToPromise", "cbToPromise", "src", "func", "resolve", "reject", "readAsArrayBuffer", "f", "readAs", "readAsText", "f", "readAs", "as", "resolve", "reject", "reader", "event", "error", "msg", "filePromise", "extractPathInfo", "url", "idx", "filename", "ext", "MODULE_BASE", "getExtension", "url", "arr", "file", "idx", "splitModuleName", "module", "resolveUrl", "base", "root", "moduleBase", "isRelativeFile", "isModule", "moduleName", "moduleFile", "moduleUrl", "relativePath", "runModule", "require", "urlOrSource", "transform", "readFile", "base", "root", "importData", "moduleBase", "MODULE_BASE", "source", "url", "isRelativeFile", "cache", "cacheUrl", "bundleAlias", "exports", "resolvedUrl", "requireCache", "aliasedUrl", "resolved", "resolveUrl", "resolvedStr", "info", "extractPathInfo", "content", "srch", "idx", "idx2", "e", "getExtension", "module", "requireModule", "newUrl", "id", "_require", "err", "clearFileCache", "files", "f", "clearTempCache", "readFileWeb", "path", "base", "output", "req", "exportStlText", "objects", "out", "convertToStl", "object", "i", "convertToFacets", "vertextoStlString", "prefix", "v", "idx", "polygon", "vertices", "indices", "normals", "max", "import_json5", "countSpaces", "line", "count", "i", "getParameterDefinitionsFromSource", "script", "lines", "l", "trim", "lineNum", "code", "prev", "prevIndent", "groupIndex", "defs", "isGroup", "extractTextFromComment", "name", "def", "parseComment", "caption", "idx", "bracketIdx", "parseDef", "parseOne", "comment", "line1", "line2", "options", "c", "prefix", "paramName", "ret", "JSON5", "e", "initial", "combineParameterDefinitions", "paramDefFromSource", "extraDef", "param", "p", "extractDefaults", "def", "params", "name", "initial", "type", "values", "captions", "val", "v", "i", "main", "transformFunc", "x", "client", "globalBase", "userInstances", "importData", "flatten", "arr", "doFlatten", "_in", "out", "el", "init", "params", "baseURI", "alias", "bundles", "requireCache", "name", "path", "readFileFile", "file", "bin", "readAsArrayBuffer", "readAsText", "runMain", "p", "info", "extractPathInfo", "content", "entities", "transferable", "time", "solidsTime", "JscadToCommon", "withTransferable", "importReg", "exportReg", "runScript", "script", "url", "base", "root", "readFileWeb", "resolveUrl", "shouldTransform", "def", "scriptModule", "require", "fromSource", "getParameterDefinitionsFromSource", "combineParameterDefinitions", "extractDefaults", "exportData", "format", "exportStlText", "currentSolids", "handlers", "clearTempCache", "clearFileCache", "initWorker", "transform", "_importData", "initMessaging", "transformcjs", "serializerMap", "exportData", "format", "options", "jscad_io", "require", "readFileWeb", "solids", "currentSolids", "key", "defaults", "data", "withTransferable", "v", "importData", "ext", "url", "filename", "fileContent", "deserializer", "error", "initWorker"]
}
