{
  "version": 3,
  "sources": ["../_index.js"],
  "sourcesContent": ["const style =`:host{display:inline-block;--cube-size: 100px;--cube-line-color: #fff;--cube-z-color: var(--cube-line-color);--cube-x-color: var(--cube-line-color);--cube-y-color: var(--cube-line-color);--cube-bg: #ccc;--cube-fg: #444;--cube-bg-hover: #eee9;--cube-fg-hover: #444;--cube-corner-radius: 5px;width:var(--cube-size);height:var(--cube-size);margin:calc(var(--cube-size) / 4);perspective:400px;--cube-transform: scale3d(.8,.8,.8);--cube-transform-common: translateZ(calc( var(--cube-size) / 2 ))}*{box-sizing:border-box}.cube,.cube__face,.cube__face i{user-select:none}.cube{font-family:Verdana,Geneva,Tahoma,sans-serif;width:var(--cube-size);height:var(--cube-size);position:relative;transform-style:preserve-3d;transform:var(--cube-transform)}.cube__face{position:absolute;width:var(--cube-size);height:var(--cube-size);font-size:calc(var(--cube-size) / 7);text-align:center;display:grid;grid-template-columns:20% 60% 20%;grid-template-rows:20% 60% 20%;color:var(--cube-fg)}.cube__face .bg{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px var(--cube-line-color);background-color:var(--cube-bg);border-radius:var(--cube-corner-radius)}.cube__face i{z-index:1;font-style:normal;display:flex;align-items:center;justify-content:center}.cube__face i[c]{cursor:pointer}.cube__face i.hover{background-color:var(--cube-bg-hover);color:var(--cube-fg-hover)}.cube__face--T{transform:rotateY(0) var(--cube-transform-common)}.cube__face--B{transform:rotateY(180deg) var(--cube-transform-common) rotate(180deg)}.cube__face--E{transform:rotateY(90deg) var(--cube-transform-common) rotate(-90deg)}.cube__face--W{transform:rotateY(-90deg) var(--cube-transform-common) rotate(90deg)}.cube__face--N{transform:rotateX(90deg) var(--cube-transform-common) rotate(180deg)}.cube__face--S{transform:rotateX(-90deg) var(--cube-transform-common)}.cube__face--T .bg{border-left-color:var(--cube-y-color);border-bottom-color:var(--cube-x-color)}.cube__face--B .bg{border-left-color:var(--cube-y-color);border-top-color:var(--cube-x-color)}.cube__face--W .bg{border-right-color:var(--cube-z-color);border-bottom-color:var(--cube-y-color);border-top-color:var(--cube-y-color)}.cube__face--S .bg{border-left-color:var(--cube-z-color);border-bottom-color:var(--cube-x-color);border-top-color:var(--cube-x-color)}\n`;\r\n\r\nexport const names = {\r\n  T: 'TOP',\r\n  B: 'BOTTOM',\r\n  S: 'FRONT',\r\n  N: 'BACK',\r\n  W: 'LEFT',\r\n  E: 'RIGHT',\r\n}\r\n\r\nconst makeSide = (names, name, ...parts) => {\r\n  const out = [`<div part=\"face\" class=\"cube__face cube__face--${name}\"><div class=\"bg\" part=\"face-bg\"></div>`]\r\n  parts.forEach(p => p.split(',').forEach(c => out.push(`<i c=\"${c}\">${names[c] || ''}</i>`)))\r\n  out.push('</div>')\r\n  return out.join('')\r\n}\r\n\r\nexport class Gizmo extends HTMLElement {\r\n  #root\r\n  #first\r\n  names\r\n  \r\n  constructor(_names=names){\r\n    super()\r\n    this.names = _names\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.#root = this.attachShadow({ mode: 'open' })\r\n    this.#root.innerHTML = `<div class=\"cube\"></div><style>${style}</style>`\r\n\r\n    const first = this.#first = this.#root.firstElementChild\r\n\r\n    this.setNames(this.names)\r\n\r\n    first.onclick = e => {\r\n      const cam = e.target.getAttribute('c')\r\n      if (cam) this.oncam?.({ cam })\r\n    }\r\n\r\n    const doHoverClass = (el, over) => {\r\n      const classList = el.classList\r\n      if (over) classList.add('hover')\r\n      else classList.remove('hover')\r\n    }\r\n\r\n    const mouseover = (el, over) => {\r\n      const cam = el.getAttribute('c')\r\n      if (cam) {\r\n        // select all camera links for the same camera (higliht corners)\r\n        const all = first.querySelectorAll(`[c=\"${cam}\"]`)\r\n        all.forEach(el => doHoverClass(el, over))\r\n      }\r\n    }\r\n\r\n    first.onmouseover = e => mouseover(e.target, true)\r\n\r\n    first.onmouseout = e => mouseover(e.target, false)\r\n    first.ondragstart = e => e.preventDefault()\r\n  }\r\n\r\n  setNames(_names=names){\r\n    this.#first.innerHTML =\r\n      makeSide(_names, 'T', 'TNW,TN,TNE', 'TW,T,TE', 'TSW,TS,TSE') +\r\n      makeSide(_names, 'B', 'BSW,BS,BSE', 'BW,B,BE', 'BNW,BN,BNE') +\r\n      makeSide(_names, 'S', 'TSW,TS,TSE', 'SW,S,SE', 'BSW,BS,BSE') +\r\n      makeSide(_names, 'N', 'TNE,TN,TNW', 'NE,N,NW', 'BNE,BN,BNW') +\r\n      makeSide(_names, 'E', 'TSE,TE,TNE', 'SE,E,NE', 'BSE,BE,BNE') +\r\n      makeSide(_names, 'W', 'TNW,TW,TSW', 'NW,W,SW', 'BNW,BW,BSW')\r\n  }\r\n\r\n  setSize(size) {\r\n    this.style.setProperty('--cube-size', size + 'px')\r\n  }\r\n\r\n  rotateXZ(rx, rz) {\r\n    if(typeof rx === 'number') rx = rx+'rad'\r\n    if(typeof rz === 'number') rz = rz+'rad'\r\n    this.style.setProperty('--cube-transform', `scale3d(0.8,0.8,0.8) rotateX(${rx}) rotateZ(${rz})`)\r\n  }\r\n}\r\n"],
  "mappings": "AAAA,IAAMA,EAAO;AAAA,EAGAC,EAAQ,CACnB,EAAG,MACH,EAAG,SACH,EAAG,QACH,EAAG,OACH,EAAG,OACH,EAAG,OACL,EAEMC,EAAW,CAACD,EAAOE,KAASC,IAAU,CAC1C,IAAMC,EAAM,CAAC,kDAAkDF,0CAA6C,EAC5G,OAAAC,EAAM,QAAQE,GAAKA,EAAE,MAAM,GAAG,EAAE,QAAQC,GAAKF,EAAI,KAAK,SAASE,MAAMN,EAAMM,IAAM,QAAQ,CAAC,CAAC,EAC3FF,EAAI,KAAK,QAAQ,EACVA,EAAI,KAAK,EAAE,CACpB,EAEaG,EAAN,cAAoB,WAAY,CACrCC,GACAC,GACA,MAEA,YAAYC,EAAOV,EAAM,CACvB,MAAM,EACN,KAAK,MAAQU,CACf,CAEA,mBAAoB,CAClB,KAAKF,GAAQ,KAAK,aAAa,CAAE,KAAM,MAAO,CAAC,EAC/C,KAAKA,GAAM,UAAY,kCAAkCT,YAEzD,IAAMY,EAAQ,KAAKF,GAAS,KAAKD,GAAM,kBAEvC,KAAK,SAAS,KAAK,KAAK,EAExBG,EAAM,QAAUC,GAAK,CACnB,IAAMC,EAAMD,EAAE,OAAO,aAAa,GAAG,EACjCC,GAAK,KAAK,QAAQ,CAAE,IAAAA,CAAI,CAAC,CAC/B,EAEA,IAAMC,EAAe,CAACC,EAAIC,IAAS,CACjC,IAAMC,EAAYF,EAAG,UACjBC,EAAMC,EAAU,IAAI,OAAO,EAC1BA,EAAU,OAAO,OAAO,CAC/B,EAEMC,EAAY,CAACH,EAAIC,IAAS,CAC9B,IAAMH,EAAME,EAAG,aAAa,GAAG,EAC3BF,GAEUF,EAAM,iBAAiB,OAAOE,KAAO,EAC7C,QAAQE,GAAMD,EAAaC,EAAIC,CAAI,CAAC,CAE5C,EAEAL,EAAM,YAAcC,GAAKM,EAAUN,EAAE,OAAQ,EAAI,EAEjDD,EAAM,WAAaC,GAAKM,EAAUN,EAAE,OAAQ,EAAK,EACjDD,EAAM,YAAcC,GAAKA,EAAE,eAAe,CAC5C,CAEA,SAASF,EAAOV,EAAM,CACpB,KAAKS,GAAO,UACVR,EAASS,EAAQ,IAAK,aAAc,UAAW,YAAY,EAC3DT,EAASS,EAAQ,IAAK,aAAc,UAAW,YAAY,EAC3DT,EAASS,EAAQ,IAAK,aAAc,UAAW,YAAY,EAC3DT,EAASS,EAAQ,IAAK,aAAc,UAAW,YAAY,EAC3DT,EAASS,EAAQ,IAAK,aAAc,UAAW,YAAY,EAC3DT,EAASS,EAAQ,IAAK,aAAc,UAAW,YAAY,CAC/D,CAEA,QAAQS,EAAM,CACZ,KAAK,MAAM,YAAY,cAAeA,EAAO,IAAI,CACnD,CAEA,SAASC,EAAIC,EAAI,CACZ,OAAOD,GAAO,WAAUA,EAAKA,EAAG,OAChC,OAAOC,GAAO,WAAUA,EAAKA,EAAG,OACnC,KAAK,MAAM,YAAY,mBAAoB,gCAAgCD,cAAeC,IAAK,CACjG,CACF",
  "names": ["style", "names", "makeSide", "name", "parts", "out", "p", "c", "Gizmo", "#root", "#first", "_names", "first", "e", "cam", "doHoverClass", "el", "over", "classList", "mouseover", "size", "rx", "rz"]
}
